"2023-05-29 16:43:25:859","DELETE ISIA.TAPCTOUTOFCONTROLDATASUM WHERE 1=1 AND RULENAME='AverageRules' AND MEASURE_TIMEKEY LIKE '2023052916%' "
"2023-05-29 16:43:26:084","SELECT RULENO, RULENAME, RULETEXT FROM       TAPCTSPCRULESPEC WHERE 1=1 AND ISALIVE = 'YES' "
"2023-05-29 16:43:26:143","SELECT PRS.DBID, DB.DBNAME, PRS.INSTANCE_NUMBER, PD.PARAMETERTYPE, PRS.PARAMETERID, PRS.PARAMETERNAME,        PRS.RULENO, PRS.RULENAME, RS.RULETEXT, RS.N_VALUE, RS.M_VALUE,        PRS.DAYS, PRS.SPECUPPERLIMIT, PRS.SPECLOWERLIMIT,        PRS.CONTROLUPPERLIMIT, PRS.CONTROLLOWERLIMIT, PRS.CHARTUSED, PRS.MAILUSED,        PRS.MMSUSED, PRS.SPECLIMITUSED, PRS.DETECTINGUSED, PRS.TARGET, PRS.STD_VALUE,        PRS.PARAVAL1, PRS.PARAVAL2, PRS.PARAVAL3, PRS.PARAVAL4, PRS.PARAVAL5 FROM       TAPCTPARAMETERDEF PD,       TAPCTPARAMETERRULESPEC PRS,      TAPCTSPCRULESPEC RS,      TAPCTDATABASE DB WHERE PD.PARAMETERID(+) = PRS.PARAMETERID AND RS.RULENO(+) = PRS.RULENO AND RS.RULENAME(+) = PRS.RULENAME AND DB.DBID(+) = PRS.DBID AND PRS.ISALIVE = 'YES' AND PRS.RULENO = 1 AND PRS.RULENAME = 'NelsonRules' "
"2023-05-29 16:43:26:150","SELECT PRS.DBID, DB.DBNAME, PRS.INSTANCE_NUMBER, PD.PARAMETERTYPE, PRS.PARAMETERID, PRS.PARAMETERNAME,        PRS.RULENO, PRS.RULENAME, RS.RULETEXT, RS.N_VALUE, RS.M_VALUE,        PRS.DAYS, PRS.SPECUPPERLIMIT, PRS.SPECLOWERLIMIT,        PRS.CONTROLUPPERLIMIT, PRS.CONTROLLOWERLIMIT, PRS.CHARTUSED, PRS.MAILUSED,        PRS.MMSUSED, PRS.SPECLIMITUSED, PRS.DETECTINGUSED, PRS.TARGET, PRS.STD_VALUE,        PRS.PARAVAL1, PRS.PARAVAL2, PRS.PARAVAL3, PRS.PARAVAL4, PRS.PARAVAL5 FROM       TAPCTPARAMETERDEF PD,       TAPCTPARAMETERRULESPEC PRS,      TAPCTSPCRULESPEC RS,      TAPCTDATABASE DB WHERE PD.PARAMETERID(+) = PRS.PARAMETERID AND RS.RULENO(+) = PRS.RULENO AND RS.RULENAME(+) = PRS.RULENAME AND DB.DBID(+) = PRS.DBID AND PRS.ISALIVE = 'YES' AND PRS.RULENO = 2 AND PRS.RULENAME = 'NelsonRules' "
"2023-05-29 16:43:26:185","SELECT PRS.DBID, DB.DBNAME, PRS.INSTANCE_NUMBER, PD.PARAMETERTYPE, PRS.PARAMETERID, PRS.PARAMETERNAME,        PRS.RULENO, PRS.RULENAME, RS.RULETEXT, RS.N_VALUE, RS.M_VALUE,        PRS.DAYS, PRS.SPECUPPERLIMIT, PRS.SPECLOWERLIMIT,        PRS.CONTROLUPPERLIMIT, PRS.CONTROLLOWERLIMIT, PRS.CHARTUSED, PRS.MAILUSED,        PRS.MMSUSED, PRS.SPECLIMITUSED, PRS.DETECTINGUSED, PRS.TARGET, PRS.STD_VALUE,        PRS.PARAVAL1, PRS.PARAVAL2, PRS.PARAVAL3, PRS.PARAVAL4, PRS.PARAVAL5 FROM       TAPCTPARAMETERDEF PD,       TAPCTPARAMETERRULESPEC PRS,      TAPCTSPCRULESPEC RS,      TAPCTDATABASE DB WHERE PD.PARAMETERID(+) = PRS.PARAMETERID AND RS.RULENO(+) = PRS.RULENO AND RS.RULENAME(+) = PRS.RULENAME AND DB.DBID(+) = PRS.DBID AND PRS.ISALIVE = 'YES' AND PRS.RULENO = 3 AND PRS.RULENAME = 'NelsonRules' "
"2023-05-29 16:43:26:193","SELECT PRS.DBID, DB.DBNAME, PRS.INSTANCE_NUMBER, PD.PARAMETERTYPE, PRS.PARAMETERID, PRS.PARAMETERNAME,        PRS.RULENO, PRS.RULENAME, RS.RULETEXT, RS.N_VALUE, RS.M_VALUE,        PRS.DAYS, PRS.SPECUPPERLIMIT, PRS.SPECLOWERLIMIT,        PRS.CONTROLUPPERLIMIT, PRS.CONTROLLOWERLIMIT, PRS.CHARTUSED, PRS.MAILUSED,        PRS.MMSUSED, PRS.SPECLIMITUSED, PRS.DETECTINGUSED, PRS.TARGET, PRS.STD_VALUE,        PRS.PARAVAL1, PRS.PARAVAL2, PRS.PARAVAL3, PRS.PARAVAL4, PRS.PARAVAL5 FROM       TAPCTPARAMETERDEF PD,       TAPCTPARAMETERRULESPEC PRS,      TAPCTSPCRULESPEC RS,      TAPCTDATABASE DB WHERE PD.PARAMETERID(+) = PRS.PARAMETERID AND RS.RULENO(+) = PRS.RULENO AND RS.RULENAME(+) = PRS.RULENAME AND DB.DBID(+) = PRS.DBID AND PRS.ISALIVE = 'YES' AND PRS.RULENO = 4 AND PRS.RULENAME = 'NelsonRules' "
"2023-05-29 16:43:26:201","SELECT PRS.DBID, DB.DBNAME, PRS.INSTANCE_NUMBER, PD.PARAMETERTYPE, PRS.PARAMETERID, PRS.PARAMETERNAME,        PRS.RULENO, PRS.RULENAME, RS.RULETEXT, RS.N_VALUE, RS.M_VALUE,        PRS.DAYS, PRS.SPECUPPERLIMIT, PRS.SPECLOWERLIMIT,        PRS.CONTROLUPPERLIMIT, PRS.CONTROLLOWERLIMIT, PRS.CHARTUSED, PRS.MAILUSED,        PRS.MMSUSED, PRS.SPECLIMITUSED, PRS.DETECTINGUSED, PRS.TARGET, PRS.STD_VALUE,        PRS.PARAVAL1, PRS.PARAVAL2, PRS.PARAVAL3, PRS.PARAVAL4, PRS.PARAVAL5 FROM       TAPCTPARAMETERDEF PD,       TAPCTPARAMETERRULESPEC PRS,      TAPCTSPCRULESPEC RS,      TAPCTDATABASE DB WHERE PD.PARAMETERID(+) = PRS.PARAMETERID AND RS.RULENO(+) = PRS.RULENO AND RS.RULENAME(+) = PRS.RULENAME AND DB.DBID(+) = PRS.DBID AND PRS.ISALIVE = 'YES' AND PRS.RULENO = 5 AND PRS.RULENAME = 'NelsonRules' "
"2023-05-29 16:43:26:209","SELECT PRS.DBID, DB.DBNAME, PRS.INSTANCE_NUMBER, PD.PARAMETERTYPE, PRS.PARAMETERID, PRS.PARAMETERNAME,        PRS.RULENO, PRS.RULENAME, RS.RULETEXT, RS.N_VALUE, RS.M_VALUE,        PRS.DAYS, PRS.SPECUPPERLIMIT, PRS.SPECLOWERLIMIT,        PRS.CONTROLUPPERLIMIT, PRS.CONTROLLOWERLIMIT, PRS.CHARTUSED, PRS.MAILUSED,        PRS.MMSUSED, PRS.SPECLIMITUSED, PRS.DETECTINGUSED, PRS.TARGET, PRS.STD_VALUE,        PRS.PARAVAL1, PRS.PARAVAL2, PRS.PARAVAL3, PRS.PARAVAL4, PRS.PARAVAL5 FROM       TAPCTPARAMETERDEF PD,       TAPCTPARAMETERRULESPEC PRS,      TAPCTSPCRULESPEC RS,      TAPCTDATABASE DB WHERE PD.PARAMETERID(+) = PRS.PARAMETERID AND RS.RULENO(+) = PRS.RULENO AND RS.RULENAME(+) = PRS.RULENAME AND DB.DBID(+) = PRS.DBID AND PRS.ISALIVE = 'YES' AND PRS.RULENO = 6 AND PRS.RULENAME = 'NelsonRules' "
"2023-05-29 16:43:26:216","SELECT PRS.DBID, DB.DBNAME, PRS.INSTANCE_NUMBER, PD.PARAMETERTYPE, PRS.PARAMETERID, PRS.PARAMETERNAME,        PRS.RULENO, PRS.RULENAME, RS.RULETEXT, RS.N_VALUE, RS.M_VALUE,        PRS.DAYS, PRS.SPECUPPERLIMIT, PRS.SPECLOWERLIMIT,        PRS.CONTROLUPPERLIMIT, PRS.CONTROLLOWERLIMIT, PRS.CHARTUSED, PRS.MAILUSED,        PRS.MMSUSED, PRS.SPECLIMITUSED, PRS.DETECTINGUSED, PRS.TARGET, PRS.STD_VALUE,        PRS.PARAVAL1, PRS.PARAVAL2, PRS.PARAVAL3, PRS.PARAVAL4, PRS.PARAVAL5 FROM       TAPCTPARAMETERDEF PD,       TAPCTPARAMETERRULESPEC PRS,      TAPCTSPCRULESPEC RS,      TAPCTDATABASE DB WHERE PD.PARAMETERID(+) = PRS.PARAMETERID AND RS.RULENO(+) = PRS.RULENO AND RS.RULENAME(+) = PRS.RULENAME AND DB.DBID(+) = PRS.DBID AND PRS.ISALIVE = 'YES' AND PRS.RULENO = 7 AND PRS.RULENAME = 'NelsonRules' "
"2023-05-29 16:43:26:224","SELECT PRS.DBID, DB.DBNAME, PRS.INSTANCE_NUMBER, PD.PARAMETERTYPE, PRS.PARAMETERID, PRS.PARAMETERNAME,        PRS.RULENO, PRS.RULENAME, RS.RULETEXT, RS.N_VALUE, RS.M_VALUE,        PRS.DAYS, PRS.SPECUPPERLIMIT, PRS.SPECLOWERLIMIT,        PRS.CONTROLUPPERLIMIT, PRS.CONTROLLOWERLIMIT, PRS.CHARTUSED, PRS.MAILUSED,        PRS.MMSUSED, PRS.SPECLIMITUSED, PRS.DETECTINGUSED, PRS.TARGET, PRS.STD_VALUE,        PRS.PARAVAL1, PRS.PARAVAL2, PRS.PARAVAL3, PRS.PARAVAL4, PRS.PARAVAL5 FROM       TAPCTPARAMETERDEF PD,       TAPCTPARAMETERRULESPEC PRS,      TAPCTSPCRULESPEC RS,      TAPCTDATABASE DB WHERE PD.PARAMETERID(+) = PRS.PARAMETERID AND RS.RULENO(+) = PRS.RULENO AND RS.RULENAME(+) = PRS.RULENAME AND DB.DBID(+) = PRS.DBID AND PRS.ISALIVE = 'YES' AND PRS.RULENO = 8 AND PRS.RULENAME = 'NelsonRules' "
"2023-05-29 16:43:26:231","SELECT PRS.DBID, DB.DBNAME, PRS.INSTANCE_NUMBER, PD.PARAMETERTYPE, PRS.PARAMETERID, PRS.PARAMETERNAME,        PRS.RULENO, PRS.RULENAME, RS.RULETEXT, RS.N_VALUE, RS.M_VALUE,        PRS.DAYS, PRS.SPECUPPERLIMIT, PRS.SPECLOWERLIMIT,        PRS.CONTROLUPPERLIMIT, PRS.CONTROLLOWERLIMIT, PRS.CHARTUSED, PRS.MAILUSED,        PRS.MMSUSED, PRS.SPECLIMITUSED, PRS.DETECTINGUSED, PRS.TARGET, PRS.STD_VALUE,        PRS.PARAVAL1, PRS.PARAVAL2, PRS.PARAVAL3, PRS.PARAVAL4, PRS.PARAVAL5 FROM       TAPCTPARAMETERDEF PD,       TAPCTPARAMETERRULESPEC PRS,      TAPCTSPCRULESPEC RS,      TAPCTDATABASE DB WHERE PD.PARAMETERID(+) = PRS.PARAMETERID AND RS.RULENO(+) = PRS.RULENO AND RS.RULENAME(+) = PRS.RULENAME AND DB.DBID(+) = PRS.DBID AND PRS.ISALIVE = 'YES' AND PRS.RULENO = 1 AND PRS.RULENAME = 'AverageRules' "
"2023-05-29 16:43:26:240","SELECT ROUND(AVG(MEASURE_VALUE),6) AS TARGET FROM (SELECT SNAP_ID, DBID, INSTANCE_NUMBER, STAT_ID AS PARAMETERID, STAT_NAME AS PARAMETERNAME, (VALUE - PREV_VAL) AS MEASURE_VALUE, BEGIN_INTERVAL_TIME, END_INTERVAL_TIME FROM (  SELECT LAG (VALUE) OVER (PARTITION BY T.DBID, T.INSTANCE_NUMBER, D.STAT_ID, T.STARTUP_TIME ORDER BY END_INTERVAL_TIME) PREV_VAL,         D.*, T.BEGIN_INTERVAL_TIME, T.END_INTERVAL_TIME  FROM RAW_DBA_HIST_SYSSTAT_ISFA D, RAW_DBA_HIST_SNAPSHOT_ISFA T WHERE D.SNAP_ID = T.SNAP_ID AND D.DBID = T.DBID AND D.INSTANCE_NUMBER = T.INSTANCE_NUMBER AND T.DBID = 1643782569 AND T.INSTANCE_NUMBER = 1 AND T.END_INTERVAL_TIME >= TO_DATE('20230517000000', 'YYYYMMDDHH24MISS') AND T.END_INTERVAL_TIME < TO_DATE('20230529000000', 'YYYYMMDDHH24MISS') AND D.STAT_ID = 24469293 )  WHERE PREV_VAL IS NOT NULL ) "
"2023-05-29 16:44:01:681","INSERT INTO ISIA.TAPCTOUTOFCONTROLDATASUM ( SNAP_ID, DBID, INSTANCE_NUMBER, PARAMETERID, MEASURE_VAL, STARTTIMEKEY, ENDTIMEKEY, RULENAME, RULENO, MEASURE_TIMEKEY, TARGET, STD_VALUE, PARAVAL1, PARAVAL2, PARAVAL3, PARAVAL4, PARAVAL5, INSERTTIME, INSERTUSER, ISALIVE)  WITH RAW_TABLE AS (SELECT MAX(SNAP_ID) SNAP_ID , DBID, INSTANCE_NUMBER, PARAMETERID, PARAMETERNAME, ROUND(AVG(MEASURE_VALUE),2) AS MEASURE_VALUE, MIN(BEGIN_INTERVAL_TIME) AS BEGIN_INTERVAL_TIME, MAX(END_INTERVAL_TIME) AS END_INTERVAL_TIME FROM ( SELECT SNAP_ID, DBID, INSTANCE_NUMBER, STAT_ID AS PARAMETERID, STAT_NAME AS PARAMETERNAME, (VALUE - PREV_VAL) AS MEASURE_VALUE, BEGIN_INTERVAL_TIME, END_INTERVAL_TIME FROM (  SELECT LAG (VALUE) OVER (PARTITION BY T.DBID, T.INSTANCE_NUMBER, D.STAT_ID, T.STARTUP_TIME ORDER BY END_INTERVAL_TIME) PREV_VAL,         D.*, T.BEGIN_INTERVAL_TIME, T.END_INTERVAL_TIME  FROM RAW_DBA_HIST_SYSSTAT_ISFA D, RAW_DBA_HIST_SNAPSHOT_ISFA T WHERE D.SNAP_ID = T.SNAP_ID AND D.DBID = T.DBID AND D.INSTANCE_NUMBER = T.INSTANCE_NUMBER AND T.DBID = 1643782569 AND T.INSTANCE_NUMBER = 1 AND T.BEGIN_INTERVAL_TIME >= TO_DATE('20230529000000', 'YYYYMMDDHH24MISS') AND T.END_INTERVAL_TIME < TO_DATE('20230529160000', 'YYYYMMDDHH24MISS') AND D.STAT_ID = 24469293 )  WHERE PREV_VAL IS NOT NULL ) GROUP BY DBID, INSTANCE_NUMBER, PARAMETERID, PARAMETERNAME )  SELECT SNAP_ID, DBID, INSTANCE_NUMBER, PARAMETERID,  MEASURE_VALUE, TO_CHAR(BEGIN_INTERVAL_TIME, 'YYYYMMDDHH24MISSFF3') STARTTIMEKEY, TO_CHAR(END_INTERVAL_TIME, 'YYYYMMDDHH24MISSFF3') ENDTIMEKEY, 'AverageRules' RULENAME, '1' RULENO, '2023052916' MEASURE_TIMEKEY, 4444 TARGET,NULL STD_VALUE, ROUND(MEASURE_VALUE/1398.27076 ,2) * 100 PARAVAL1, 1398.27076 PARAVAL2, NULL PARAVAL3, NULL PARAVAL4, NULL PARAVAL5, TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS') INSERTTIME, 'DETECTING_BATCH' INSERTUSER, 'YES' ISALIVE FROM ( SELECT ROWNUM RN, A.* FROM RAW_TABLE A WHERE (MEASURE_VALUE > (1398.27076 * (1 + (4444/100)))) ORDER BY SNAP_ID ) WHERE RN >= 1 "
"2023-05-29 16:44:01:684","SELECT ROUND(AVG(MEASURE_VALUE),6) AS TARGET FROM (SELECT D.SNAP_ID, D.DBID, D.INSTANCE_NUMBER, D.METRIC_ID AS PARAMETERID, D.METRIC_NAME AS PARAMETERNAME, AVERAGE AS MEASURE_VALUE, BEGIN_INTERVAL_TIME, END_INTERVAL_TIME FROM RAW_DBA_HIST_SYSMETRIC_SUMMARY_ISFA D, RAW_DBA_HIST_SNAPSHOT_ISFA T WHERE D.SNAP_ID = T.SNAP_ID AND D.DBID = T.DBID AND D.INSTANCE_NUMBER = T.INSTANCE_NUMBER AND T.DBID = 1643782569 AND T.INSTANCE_NUMBER = 1 AND T.END_INTERVAL_TIME >= TO_DATE('20230517000000', 'YYYYMMDDHH24MISS') AND T.END_INTERVAL_TIME < TO_DATE('20230529000000', 'YYYYMMDDHH24MISS') AND D.METRIC_ID = 2050 ) "
"2023-05-29 16:44:08:544","INSERT INTO ISIA.TAPCTOUTOFCONTROLDATASUM ( SNAP_ID, DBID, INSTANCE_NUMBER, PARAMETERID, MEASURE_VAL, STARTTIMEKEY, ENDTIMEKEY, RULENAME, RULENO, MEASURE_TIMEKEY, TARGET, STD_VALUE, PARAVAL1, PARAVAL2, PARAVAL3, PARAVAL4, PARAVAL5, INSERTTIME, INSERTUSER, ISALIVE)  WITH RAW_TABLE AS (SELECT MAX(D.SNAP_ID) SNAP_ID, D.DBID, D.INSTANCE_NUMBER, D.METRIC_ID AS PARAMETERID, D.METRIC_NAME AS PARAMETERNAME, ROUND(AVG(AVERAGE),2) AS MEASURE_VALUE, MIN(BEGIN_INTERVAL_TIME) AS BEGIN_INTERVAL_TIME, MAX(END_INTERVAL_TIME) AS END_INTERVAL_TIME FROM RAW_DBA_HIST_SYSMETRIC_SUMMARY_ISFA D, RAW_DBA_HIST_SNAPSHOT_ISFA T WHERE D.SNAP_ID = T.SNAP_ID AND D.DBID = T.DBID AND D.INSTANCE_NUMBER = T.INSTANCE_NUMBER AND T.DBID = 1643782569 AND T.INSTANCE_NUMBER = 1 AND T.BEGIN_INTERVAL_TIME >= TO_DATE('20230529000000', 'YYYYMMDDHH24MISS') AND T.END_INTERVAL_TIME < TO_DATE('20230529160000', 'YYYYMMDDHH24MISS') AND D.METRIC_ID = 2050  GROUP BY D.DBID, D.INSTANCE_NUMBER, D.METRIC_ID , D.METRIC_NAME)  SELECT SNAP_ID, DBID, INSTANCE_NUMBER, PARAMETERID,  MEASURE_VALUE, TO_CHAR(BEGIN_INTERVAL_TIME, 'YYYYMMDDHH24MISSFF3') STARTTIMEKEY, TO_CHAR(END_INTERVAL_TIME, 'YYYYMMDDHH24MISSFF3') ENDTIMEKEY, 'AverageRules' RULENAME, '1' RULENO, '2023052916' MEASURE_TIMEKEY, 220.76 TARGET,NULL STD_VALUE, ROUND(MEASURE_VALUE/112.35778 ,2) * 100 PARAVAL1, 112.35778 PARAVAL2, NULL PARAVAL3, NULL PARAVAL4, NULL PARAVAL5, TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS') INSERTTIME, 'DETECTING_BATCH' INSERTUSER, 'YES' ISALIVE FROM ( SELECT ROWNUM RN, A.* FROM RAW_TABLE A WHERE (MEASURE_VALUE > (112.35778 * (1 + (220.76/100)))) ORDER BY SNAP_ID ) WHERE RN >= 1 "
"2023-05-29 16:50:24:339","DELETE ISIA.TAPCTOUTOFCONTROLDATASUM WHERE 1=1 AND RULENAME='AverageRules' AND MEASURE_TIMEKEY LIKE '2023052916%' "
"2023-05-29 16:50:24:369","SELECT RULENO, RULENAME, RULETEXT FROM       TAPCTSPCRULESPEC WHERE 1=1 AND ISALIVE = 'YES' "
"2023-05-29 16:50:24:371","SELECT PRS.DBID, DB.DBNAME, PRS.INSTANCE_NUMBER, PD.PARAMETERTYPE, PRS.PARAMETERID, PRS.PARAMETERNAME,        PRS.RULENO, PRS.RULENAME, RS.RULETEXT, RS.N_VALUE, RS.M_VALUE,        PRS.DAYS, PRS.SPECUPPERLIMIT, PRS.SPECLOWERLIMIT,        PRS.CONTROLUPPERLIMIT, PRS.CONTROLLOWERLIMIT, PRS.CHARTUSED, PRS.MAILUSED,        PRS.MMSUSED, PRS.SPECLIMITUSED, PRS.DETECTINGUSED, PRS.TARGET, PRS.STD_VALUE,        PRS.PARAVAL1, PRS.PARAVAL2, PRS.PARAVAL3, PRS.PARAVAL4, PRS.PARAVAL5 FROM       TAPCTPARAMETERDEF PD,       TAPCTPARAMETERRULESPEC PRS,      TAPCTSPCRULESPEC RS,      TAPCTDATABASE DB WHERE PD.PARAMETERID(+) = PRS.PARAMETERID AND RS.RULENO(+) = PRS.RULENO AND RS.RULENAME(+) = PRS.RULENAME AND DB.DBID(+) = PRS.DBID AND PRS.ISALIVE = 'YES' AND PRS.RULENO = 1 AND PRS.RULENAME = 'NelsonRules' "
"2023-05-29 16:50:24:374","SELECT PRS.DBID, DB.DBNAME, PRS.INSTANCE_NUMBER, PD.PARAMETERTYPE, PRS.PARAMETERID, PRS.PARAMETERNAME,        PRS.RULENO, PRS.RULENAME, RS.RULETEXT, RS.N_VALUE, RS.M_VALUE,        PRS.DAYS, PRS.SPECUPPERLIMIT, PRS.SPECLOWERLIMIT,        PRS.CONTROLUPPERLIMIT, PRS.CONTROLLOWERLIMIT, PRS.CHARTUSED, PRS.MAILUSED,        PRS.MMSUSED, PRS.SPECLIMITUSED, PRS.DETECTINGUSED, PRS.TARGET, PRS.STD_VALUE,        PRS.PARAVAL1, PRS.PARAVAL2, PRS.PARAVAL3, PRS.PARAVAL4, PRS.PARAVAL5 FROM       TAPCTPARAMETERDEF PD,       TAPCTPARAMETERRULESPEC PRS,      TAPCTSPCRULESPEC RS,      TAPCTDATABASE DB WHERE PD.PARAMETERID(+) = PRS.PARAMETERID AND RS.RULENO(+) = PRS.RULENO AND RS.RULENAME(+) = PRS.RULENAME AND DB.DBID(+) = PRS.DBID AND PRS.ISALIVE = 'YES' AND PRS.RULENO = 2 AND PRS.RULENAME = 'NelsonRules' "
"2023-05-29 16:50:24:377","SELECT PRS.DBID, DB.DBNAME, PRS.INSTANCE_NUMBER, PD.PARAMETERTYPE, PRS.PARAMETERID, PRS.PARAMETERNAME,        PRS.RULENO, PRS.RULENAME, RS.RULETEXT, RS.N_VALUE, RS.M_VALUE,        PRS.DAYS, PRS.SPECUPPERLIMIT, PRS.SPECLOWERLIMIT,        PRS.CONTROLUPPERLIMIT, PRS.CONTROLLOWERLIMIT, PRS.CHARTUSED, PRS.MAILUSED,        PRS.MMSUSED, PRS.SPECLIMITUSED, PRS.DETECTINGUSED, PRS.TARGET, PRS.STD_VALUE,        PRS.PARAVAL1, PRS.PARAVAL2, PRS.PARAVAL3, PRS.PARAVAL4, PRS.PARAVAL5 FROM       TAPCTPARAMETERDEF PD,       TAPCTPARAMETERRULESPEC PRS,      TAPCTSPCRULESPEC RS,      TAPCTDATABASE DB WHERE PD.PARAMETERID(+) = PRS.PARAMETERID AND RS.RULENO(+) = PRS.RULENO AND RS.RULENAME(+) = PRS.RULENAME AND DB.DBID(+) = PRS.DBID AND PRS.ISALIVE = 'YES' AND PRS.RULENO = 3 AND PRS.RULENAME = 'NelsonRules' "
"2023-05-29 16:50:24:380","SELECT PRS.DBID, DB.DBNAME, PRS.INSTANCE_NUMBER, PD.PARAMETERTYPE, PRS.PARAMETERID, PRS.PARAMETERNAME,        PRS.RULENO, PRS.RULENAME, RS.RULETEXT, RS.N_VALUE, RS.M_VALUE,        PRS.DAYS, PRS.SPECUPPERLIMIT, PRS.SPECLOWERLIMIT,        PRS.CONTROLUPPERLIMIT, PRS.CONTROLLOWERLIMIT, PRS.CHARTUSED, PRS.MAILUSED,        PRS.MMSUSED, PRS.SPECLIMITUSED, PRS.DETECTINGUSED, PRS.TARGET, PRS.STD_VALUE,        PRS.PARAVAL1, PRS.PARAVAL2, PRS.PARAVAL3, PRS.PARAVAL4, PRS.PARAVAL5 FROM       TAPCTPARAMETERDEF PD,       TAPCTPARAMETERRULESPEC PRS,      TAPCTSPCRULESPEC RS,      TAPCTDATABASE DB WHERE PD.PARAMETERID(+) = PRS.PARAMETERID AND RS.RULENO(+) = PRS.RULENO AND RS.RULENAME(+) = PRS.RULENAME AND DB.DBID(+) = PRS.DBID AND PRS.ISALIVE = 'YES' AND PRS.RULENO = 4 AND PRS.RULENAME = 'NelsonRules' "
"2023-05-29 16:50:24:383","SELECT PRS.DBID, DB.DBNAME, PRS.INSTANCE_NUMBER, PD.PARAMETERTYPE, PRS.PARAMETERID, PRS.PARAMETERNAME,        PRS.RULENO, PRS.RULENAME, RS.RULETEXT, RS.N_VALUE, RS.M_VALUE,        PRS.DAYS, PRS.SPECUPPERLIMIT, PRS.SPECLOWERLIMIT,        PRS.CONTROLUPPERLIMIT, PRS.CONTROLLOWERLIMIT, PRS.CHARTUSED, PRS.MAILUSED,        PRS.MMSUSED, PRS.SPECLIMITUSED, PRS.DETECTINGUSED, PRS.TARGET, PRS.STD_VALUE,        PRS.PARAVAL1, PRS.PARAVAL2, PRS.PARAVAL3, PRS.PARAVAL4, PRS.PARAVAL5 FROM       TAPCTPARAMETERDEF PD,       TAPCTPARAMETERRULESPEC PRS,      TAPCTSPCRULESPEC RS,      TAPCTDATABASE DB WHERE PD.PARAMETERID(+) = PRS.PARAMETERID AND RS.RULENO(+) = PRS.RULENO AND RS.RULENAME(+) = PRS.RULENAME AND DB.DBID(+) = PRS.DBID AND PRS.ISALIVE = 'YES' AND PRS.RULENO = 5 AND PRS.RULENAME = 'NelsonRules' "
"2023-05-29 16:50:24:386","SELECT PRS.DBID, DB.DBNAME, PRS.INSTANCE_NUMBER, PD.PARAMETERTYPE, PRS.PARAMETERID, PRS.PARAMETERNAME,        PRS.RULENO, PRS.RULENAME, RS.RULETEXT, RS.N_VALUE, RS.M_VALUE,        PRS.DAYS, PRS.SPECUPPERLIMIT, PRS.SPECLOWERLIMIT,        PRS.CONTROLUPPERLIMIT, PRS.CONTROLLOWERLIMIT, PRS.CHARTUSED, PRS.MAILUSED,        PRS.MMSUSED, PRS.SPECLIMITUSED, PRS.DETECTINGUSED, PRS.TARGET, PRS.STD_VALUE,        PRS.PARAVAL1, PRS.PARAVAL2, PRS.PARAVAL3, PRS.PARAVAL4, PRS.PARAVAL5 FROM       TAPCTPARAMETERDEF PD,       TAPCTPARAMETERRULESPEC PRS,      TAPCTSPCRULESPEC RS,      TAPCTDATABASE DB WHERE PD.PARAMETERID(+) = PRS.PARAMETERID AND RS.RULENO(+) = PRS.RULENO AND RS.RULENAME(+) = PRS.RULENAME AND DB.DBID(+) = PRS.DBID AND PRS.ISALIVE = 'YES' AND PRS.RULENO = 6 AND PRS.RULENAME = 'NelsonRules' "
"2023-05-29 16:50:24:388","SELECT PRS.DBID, DB.DBNAME, PRS.INSTANCE_NUMBER, PD.PARAMETERTYPE, PRS.PARAMETERID, PRS.PARAMETERNAME,        PRS.RULENO, PRS.RULENAME, RS.RULETEXT, RS.N_VALUE, RS.M_VALUE,        PRS.DAYS, PRS.SPECUPPERLIMIT, PRS.SPECLOWERLIMIT,        PRS.CONTROLUPPERLIMIT, PRS.CONTROLLOWERLIMIT, PRS.CHARTUSED, PRS.MAILUSED,        PRS.MMSUSED, PRS.SPECLIMITUSED, PRS.DETECTINGUSED, PRS.TARGET, PRS.STD_VALUE,        PRS.PARAVAL1, PRS.PARAVAL2, PRS.PARAVAL3, PRS.PARAVAL4, PRS.PARAVAL5 FROM       TAPCTPARAMETERDEF PD,       TAPCTPARAMETERRULESPEC PRS,      TAPCTSPCRULESPEC RS,      TAPCTDATABASE DB WHERE PD.PARAMETERID(+) = PRS.PARAMETERID AND RS.RULENO(+) = PRS.RULENO AND RS.RULENAME(+) = PRS.RULENAME AND DB.DBID(+) = PRS.DBID AND PRS.ISALIVE = 'YES' AND PRS.RULENO = 7 AND PRS.RULENAME = 'NelsonRules' "
"2023-05-29 16:50:24:394","SELECT PRS.DBID, DB.DBNAME, PRS.INSTANCE_NUMBER, PD.PARAMETERTYPE, PRS.PARAMETERID, PRS.PARAMETERNAME,        PRS.RULENO, PRS.RULENAME, RS.RULETEXT, RS.N_VALUE, RS.M_VALUE,        PRS.DAYS, PRS.SPECUPPERLIMIT, PRS.SPECLOWERLIMIT,        PRS.CONTROLUPPERLIMIT, PRS.CONTROLLOWERLIMIT, PRS.CHARTUSED, PRS.MAILUSED,        PRS.MMSUSED, PRS.SPECLIMITUSED, PRS.DETECTINGUSED, PRS.TARGET, PRS.STD_VALUE,        PRS.PARAVAL1, PRS.PARAVAL2, PRS.PARAVAL3, PRS.PARAVAL4, PRS.PARAVAL5 FROM       TAPCTPARAMETERDEF PD,       TAPCTPARAMETERRULESPEC PRS,      TAPCTSPCRULESPEC RS,      TAPCTDATABASE DB WHERE PD.PARAMETERID(+) = PRS.PARAMETERID AND RS.RULENO(+) = PRS.RULENO AND RS.RULENAME(+) = PRS.RULENAME AND DB.DBID(+) = PRS.DBID AND PRS.ISALIVE = 'YES' AND PRS.RULENO = 8 AND PRS.RULENAME = 'NelsonRules' "
"2023-05-29 16:50:24:397","SELECT PRS.DBID, DB.DBNAME, PRS.INSTANCE_NUMBER, PD.PARAMETERTYPE, PRS.PARAMETERID, PRS.PARAMETERNAME,        PRS.RULENO, PRS.RULENAME, RS.RULETEXT, RS.N_VALUE, RS.M_VALUE,        PRS.DAYS, PRS.SPECUPPERLIMIT, PRS.SPECLOWERLIMIT,        PRS.CONTROLUPPERLIMIT, PRS.CONTROLLOWERLIMIT, PRS.CHARTUSED, PRS.MAILUSED,        PRS.MMSUSED, PRS.SPECLIMITUSED, PRS.DETECTINGUSED, PRS.TARGET, PRS.STD_VALUE,        PRS.PARAVAL1, PRS.PARAVAL2, PRS.PARAVAL3, PRS.PARAVAL4, PRS.PARAVAL5 FROM       TAPCTPARAMETERDEF PD,       TAPCTPARAMETERRULESPEC PRS,      TAPCTSPCRULESPEC RS,      TAPCTDATABASE DB WHERE PD.PARAMETERID(+) = PRS.PARAMETERID AND RS.RULENO(+) = PRS.RULENO AND RS.RULENAME(+) = PRS.RULENAME AND DB.DBID(+) = PRS.DBID AND PRS.ISALIVE = 'YES' AND PRS.RULENO = 1 AND PRS.RULENAME = 'AverageRules' "
"2023-05-29 16:50:24:401","SELECT ROUND(AVG(MEASURE_VALUE),6) AS TARGET FROM (SELECT SNAP_ID, DBID, INSTANCE_NUMBER, STAT_ID AS PARAMETERID, STAT_NAME AS PARAMETERNAME, (VALUE - PREV_VAL) AS MEASURE_VALUE, BEGIN_INTERVAL_TIME, END_INTERVAL_TIME FROM (  SELECT LAG (VALUE) OVER (PARTITION BY T.DBID, T.INSTANCE_NUMBER, D.STAT_ID, T.STARTUP_TIME ORDER BY END_INTERVAL_TIME) PREV_VAL,         D.*, T.BEGIN_INTERVAL_TIME, T.END_INTERVAL_TIME  FROM RAW_DBA_HIST_SYSSTAT_ISFA D, RAW_DBA_HIST_SNAPSHOT_ISFA T WHERE D.SNAP_ID = T.SNAP_ID AND D.DBID = T.DBID AND D.INSTANCE_NUMBER = T.INSTANCE_NUMBER AND T.DBID = 1643782569 AND T.INSTANCE_NUMBER = 1 AND T.END_INTERVAL_TIME >= TO_DATE('20230517000000', 'YYYYMMDDHH24MISS') AND T.END_INTERVAL_TIME < TO_DATE('20230529000000', 'YYYYMMDDHH24MISS') AND D.STAT_ID = 24469293 )  WHERE PREV_VAL IS NOT NULL ) "
"2023-05-29 16:51:00:479","INSERT INTO ISIA.TAPCTOUTOFCONTROLDATASUM ( SNAP_ID, DBID, INSTANCE_NUMBER, PARAMETERID, MEASURE_VAL, STARTTIMEKEY, ENDTIMEKEY, RULENAME, RULENO, MEASURE_TIMEKEY, TARGET, STD_VALUE, PARAVAL1, PARAVAL2, PARAVAL3, PARAVAL4, PARAVAL5, INSERTTIME, INSERTUSER, ISALIVE)  WITH RAW_TABLE AS (SELECT MAX(SNAP_ID) SNAP_ID , DBID, INSTANCE_NUMBER, PARAMETERID, PARAMETERNAME, ROUND(AVG(MEASURE_VALUE),2) AS MEASURE_VALUE, MIN(BEGIN_INTERVAL_TIME) AS BEGIN_INTERVAL_TIME, MAX(END_INTERVAL_TIME) AS END_INTERVAL_TIME FROM ( SELECT SNAP_ID, DBID, INSTANCE_NUMBER, STAT_ID AS PARAMETERID, STAT_NAME AS PARAMETERNAME, (VALUE - PREV_VAL) AS MEASURE_VALUE, BEGIN_INTERVAL_TIME, END_INTERVAL_TIME FROM (  SELECT LAG (VALUE) OVER (PARTITION BY T.DBID, T.INSTANCE_NUMBER, D.STAT_ID, T.STARTUP_TIME ORDER BY END_INTERVAL_TIME) PREV_VAL,         D.*, T.BEGIN_INTERVAL_TIME, T.END_INTERVAL_TIME  FROM RAW_DBA_HIST_SYSSTAT_ISFA D, RAW_DBA_HIST_SNAPSHOT_ISFA T WHERE D.SNAP_ID = T.SNAP_ID AND D.DBID = T.DBID AND D.INSTANCE_NUMBER = T.INSTANCE_NUMBER AND T.DBID = 1643782569 AND T.INSTANCE_NUMBER = 1 AND T.BEGIN_INTERVAL_TIME >= TO_DATE('20230529000000', 'YYYYMMDDHH24MISS') AND T.END_INTERVAL_TIME < TO_DATE('20230529160000', 'YYYYMMDDHH24MISS') AND D.STAT_ID = 24469293 )  WHERE PREV_VAL IS NOT NULL ) GROUP BY DBID, INSTANCE_NUMBER, PARAMETERID, PARAMETERNAME )  SELECT SNAP_ID, DBID, INSTANCE_NUMBER, PARAMETERID,  MEASURE_VALUE, TO_CHAR(BEGIN_INTERVAL_TIME, 'YYYYMMDDHH24MISSFF3') STARTTIMEKEY, TO_CHAR(END_INTERVAL_TIME, 'YYYYMMDDHH24MISSFF3') ENDTIMEKEY, 'AverageRules' RULENAME, '1' RULENO, '2023052916' MEASURE_TIMEKEY, 3 TARGET,NULL STD_VALUE, ROUND(MEASURE_VALUE/1398.27076 ,2) * 100 PARAVAL1, 1398.27076 PARAVAL2, NULL PARAVAL3, NULL PARAVAL4, NULL PARAVAL5, TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS') INSERTTIME, 'DETECTING_BATCH' INSERTUSER, 'YES' ISALIVE FROM ( SELECT ROWNUM RN, A.* FROM RAW_TABLE A WHERE (MEASURE_VALUE > (1398.27076 * (1 + (3/100)))) ORDER BY SNAP_ID ) WHERE RN >= 1 "
"2023-05-29 16:51:00:481","SELECT ROUND(AVG(MEASURE_VALUE),6) AS TARGET FROM (SELECT D.SNAP_ID, D.DBID, D.INSTANCE_NUMBER, D.METRIC_ID AS PARAMETERID, D.METRIC_NAME AS PARAMETERNAME, AVERAGE AS MEASURE_VALUE, BEGIN_INTERVAL_TIME, END_INTERVAL_TIME FROM RAW_DBA_HIST_SYSMETRIC_SUMMARY_ISFA D, RAW_DBA_HIST_SNAPSHOT_ISFA T WHERE D.SNAP_ID = T.SNAP_ID AND D.DBID = T.DBID AND D.INSTANCE_NUMBER = T.INSTANCE_NUMBER AND T.DBID = 1643782569 AND T.INSTANCE_NUMBER = 1 AND T.END_INTERVAL_TIME >= TO_DATE('20230517000000', 'YYYYMMDDHH24MISS') AND T.END_INTERVAL_TIME < TO_DATE('20230529000000', 'YYYYMMDDHH24MISS') AND D.METRIC_ID = 2050 ) "
"2023-05-29 16:51:08:918","INSERT INTO ISIA.TAPCTOUTOFCONTROLDATASUM ( SNAP_ID, DBID, INSTANCE_NUMBER, PARAMETERID, MEASURE_VAL, STARTTIMEKEY, ENDTIMEKEY, RULENAME, RULENO, MEASURE_TIMEKEY, TARGET, STD_VALUE, PARAVAL1, PARAVAL2, PARAVAL3, PARAVAL4, PARAVAL5, INSERTTIME, INSERTUSER, ISALIVE)  WITH RAW_TABLE AS (SELECT MAX(D.SNAP_ID) SNAP_ID, D.DBID, D.INSTANCE_NUMBER, D.METRIC_ID AS PARAMETERID, D.METRIC_NAME AS PARAMETERNAME, ROUND(AVG(AVERAGE),2) AS MEASURE_VALUE, MIN(BEGIN_INTERVAL_TIME) AS BEGIN_INTERVAL_TIME, MAX(END_INTERVAL_TIME) AS END_INTERVAL_TIME FROM RAW_DBA_HIST_SYSMETRIC_SUMMARY_ISFA D, RAW_DBA_HIST_SNAPSHOT_ISFA T WHERE D.SNAP_ID = T.SNAP_ID AND D.DBID = T.DBID AND D.INSTANCE_NUMBER = T.INSTANCE_NUMBER AND T.DBID = 1643782569 AND T.INSTANCE_NUMBER = 1 AND T.BEGIN_INTERVAL_TIME >= TO_DATE('20230529000000', 'YYYYMMDDHH24MISS') AND T.END_INTERVAL_TIME < TO_DATE('20230529160000', 'YYYYMMDDHH24MISS') AND D.METRIC_ID = 2050  GROUP BY D.DBID, D.INSTANCE_NUMBER, D.METRIC_ID , D.METRIC_NAME)  SELECT SNAP_ID, DBID, INSTANCE_NUMBER, PARAMETERID,  MEASURE_VALUE, TO_CHAR(BEGIN_INTERVAL_TIME, 'YYYYMMDDHH24MISSFF3') STARTTIMEKEY, TO_CHAR(END_INTERVAL_TIME, 'YYYYMMDDHH24MISSFF3') ENDTIMEKEY, 'AverageRules' RULENAME, '1' RULENO, '2023052916' MEASURE_TIMEKEY, 3 TARGET,NULL STD_VALUE, ROUND(MEASURE_VALUE/112.35778 ,2) * 100 PARAVAL1, 112.35778 PARAVAL2, NULL PARAVAL3, NULL PARAVAL4, NULL PARAVAL5, TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS') INSERTTIME, 'DETECTING_BATCH' INSERTUSER, 'YES' ISALIVE FROM ( SELECT ROWNUM RN, A.* FROM RAW_TABLE A WHERE (MEASURE_VALUE > (112.35778 * (1 + (3/100)))) ORDER BY SNAP_ID ) WHERE RN >= 1 "
"2023-05-29 16:53:23:641","DELETE ISIA.TAPCTOUTOFCONTROLDATASUM WHERE 1=1 AND RULENAME='AverageRules' AND MEASURE_TIMEKEY LIKE '2023052916%' "
"2023-05-29 16:53:23:717","SELECT RULENO, RULENAME, RULETEXT FROM       TAPCTSPCRULESPEC WHERE 1=1 AND ISALIVE = 'YES' "
"2023-05-29 16:53:23:769","SELECT PRS.DBID, DB.DBNAME, PRS.INSTANCE_NUMBER, PD.PARAMETERTYPE, PRS.PARAMETERID, PRS.PARAMETERNAME,        PRS.RULENO, PRS.RULENAME, RS.RULETEXT, RS.N_VALUE, RS.M_VALUE,        PRS.DAYS, PRS.SPECUPPERLIMIT, PRS.SPECLOWERLIMIT,        PRS.CONTROLUPPERLIMIT, PRS.CONTROLLOWERLIMIT, PRS.CHARTUSED, PRS.MAILUSED,        PRS.MMSUSED, PRS.SPECLIMITUSED, PRS.DETECTINGUSED, PRS.TARGET, PRS.STD_VALUE,        PRS.PARAVAL1, PRS.PARAVAL2, PRS.PARAVAL3, PRS.PARAVAL4, PRS.PARAVAL5 FROM       TAPCTPARAMETERDEF PD,       TAPCTPARAMETERRULESPEC PRS,      TAPCTSPCRULESPEC RS,      TAPCTDATABASE DB WHERE PD.PARAMETERID(+) = PRS.PARAMETERID AND RS.RULENO(+) = PRS.RULENO AND RS.RULENAME(+) = PRS.RULENAME AND DB.DBID(+) = PRS.DBID AND PRS.ISALIVE = 'YES' AND PRS.RULENO = 1 AND PRS.RULENAME = 'NelsonRules' "
"2023-05-29 16:53:23:817","SELECT PRS.DBID, DB.DBNAME, PRS.INSTANCE_NUMBER, PD.PARAMETERTYPE, PRS.PARAMETERID, PRS.PARAMETERNAME,        PRS.RULENO, PRS.RULENAME, RS.RULETEXT, RS.N_VALUE, RS.M_VALUE,        PRS.DAYS, PRS.SPECUPPERLIMIT, PRS.SPECLOWERLIMIT,        PRS.CONTROLUPPERLIMIT, PRS.CONTROLLOWERLIMIT, PRS.CHARTUSED, PRS.MAILUSED,        PRS.MMSUSED, PRS.SPECLIMITUSED, PRS.DETECTINGUSED, PRS.TARGET, PRS.STD_VALUE,        PRS.PARAVAL1, PRS.PARAVAL2, PRS.PARAVAL3, PRS.PARAVAL4, PRS.PARAVAL5 FROM       TAPCTPARAMETERDEF PD,       TAPCTPARAMETERRULESPEC PRS,      TAPCTSPCRULESPEC RS,      TAPCTDATABASE DB WHERE PD.PARAMETERID(+) = PRS.PARAMETERID AND RS.RULENO(+) = PRS.RULENO AND RS.RULENAME(+) = PRS.RULENAME AND DB.DBID(+) = PRS.DBID AND PRS.ISALIVE = 'YES' AND PRS.RULENO = 2 AND PRS.RULENAME = 'NelsonRules' "
"2023-05-29 16:53:23:870","SELECT PRS.DBID, DB.DBNAME, PRS.INSTANCE_NUMBER, PD.PARAMETERTYPE, PRS.PARAMETERID, PRS.PARAMETERNAME,        PRS.RULENO, PRS.RULENAME, RS.RULETEXT, RS.N_VALUE, RS.M_VALUE,        PRS.DAYS, PRS.SPECUPPERLIMIT, PRS.SPECLOWERLIMIT,        PRS.CONTROLUPPERLIMIT, PRS.CONTROLLOWERLIMIT, PRS.CHARTUSED, PRS.MAILUSED,        PRS.MMSUSED, PRS.SPECLIMITUSED, PRS.DETECTINGUSED, PRS.TARGET, PRS.STD_VALUE,        PRS.PARAVAL1, PRS.PARAVAL2, PRS.PARAVAL3, PRS.PARAVAL4, PRS.PARAVAL5 FROM       TAPCTPARAMETERDEF PD,       TAPCTPARAMETERRULESPEC PRS,      TAPCTSPCRULESPEC RS,      TAPCTDATABASE DB WHERE PD.PARAMETERID(+) = PRS.PARAMETERID AND RS.RULENO(+) = PRS.RULENO AND RS.RULENAME(+) = PRS.RULENAME AND DB.DBID(+) = PRS.DBID AND PRS.ISALIVE = 'YES' AND PRS.RULENO = 3 AND PRS.RULENAME = 'NelsonRules' "
"2023-05-29 16:53:23:917","SELECT PRS.DBID, DB.DBNAME, PRS.INSTANCE_NUMBER, PD.PARAMETERTYPE, PRS.PARAMETERID, PRS.PARAMETERNAME,        PRS.RULENO, PRS.RULENAME, RS.RULETEXT, RS.N_VALUE, RS.M_VALUE,        PRS.DAYS, PRS.SPECUPPERLIMIT, PRS.SPECLOWERLIMIT,        PRS.CONTROLUPPERLIMIT, PRS.CONTROLLOWERLIMIT, PRS.CHARTUSED, PRS.MAILUSED,        PRS.MMSUSED, PRS.SPECLIMITUSED, PRS.DETECTINGUSED, PRS.TARGET, PRS.STD_VALUE,        PRS.PARAVAL1, PRS.PARAVAL2, PRS.PARAVAL3, PRS.PARAVAL4, PRS.PARAVAL5 FROM       TAPCTPARAMETERDEF PD,       TAPCTPARAMETERRULESPEC PRS,      TAPCTSPCRULESPEC RS,      TAPCTDATABASE DB WHERE PD.PARAMETERID(+) = PRS.PARAMETERID AND RS.RULENO(+) = PRS.RULENO AND RS.RULENAME(+) = PRS.RULENAME AND DB.DBID(+) = PRS.DBID AND PRS.ISALIVE = 'YES' AND PRS.RULENO = 4 AND PRS.RULENAME = 'NelsonRules' "
"2023-05-29 16:53:23:964","SELECT PRS.DBID, DB.DBNAME, PRS.INSTANCE_NUMBER, PD.PARAMETERTYPE, PRS.PARAMETERID, PRS.PARAMETERNAME,        PRS.RULENO, PRS.RULENAME, RS.RULETEXT, RS.N_VALUE, RS.M_VALUE,        PRS.DAYS, PRS.SPECUPPERLIMIT, PRS.SPECLOWERLIMIT,        PRS.CONTROLUPPERLIMIT, PRS.CONTROLLOWERLIMIT, PRS.CHARTUSED, PRS.MAILUSED,        PRS.MMSUSED, PRS.SPECLIMITUSED, PRS.DETECTINGUSED, PRS.TARGET, PRS.STD_VALUE,        PRS.PARAVAL1, PRS.PARAVAL2, PRS.PARAVAL3, PRS.PARAVAL4, PRS.PARAVAL5 FROM       TAPCTPARAMETERDEF PD,       TAPCTPARAMETERRULESPEC PRS,      TAPCTSPCRULESPEC RS,      TAPCTDATABASE DB WHERE PD.PARAMETERID(+) = PRS.PARAMETERID AND RS.RULENO(+) = PRS.RULENO AND RS.RULENAME(+) = PRS.RULENAME AND DB.DBID(+) = PRS.DBID AND PRS.ISALIVE = 'YES' AND PRS.RULENO = 5 AND PRS.RULENAME = 'NelsonRules' "
"2023-05-29 16:53:24:013","SELECT PRS.DBID, DB.DBNAME, PRS.INSTANCE_NUMBER, PD.PARAMETERTYPE, PRS.PARAMETERID, PRS.PARAMETERNAME,        PRS.RULENO, PRS.RULENAME, RS.RULETEXT, RS.N_VALUE, RS.M_VALUE,        PRS.DAYS, PRS.SPECUPPERLIMIT, PRS.SPECLOWERLIMIT,        PRS.CONTROLUPPERLIMIT, PRS.CONTROLLOWERLIMIT, PRS.CHARTUSED, PRS.MAILUSED,        PRS.MMSUSED, PRS.SPECLIMITUSED, PRS.DETECTINGUSED, PRS.TARGET, PRS.STD_VALUE,        PRS.PARAVAL1, PRS.PARAVAL2, PRS.PARAVAL3, PRS.PARAVAL4, PRS.PARAVAL5 FROM       TAPCTPARAMETERDEF PD,       TAPCTPARAMETERRULESPEC PRS,      TAPCTSPCRULESPEC RS,      TAPCTDATABASE DB WHERE PD.PARAMETERID(+) = PRS.PARAMETERID AND RS.RULENO(+) = PRS.RULENO AND RS.RULENAME(+) = PRS.RULENAME AND DB.DBID(+) = PRS.DBID AND PRS.ISALIVE = 'YES' AND PRS.RULENO = 6 AND PRS.RULENAME = 'NelsonRules' "
"2023-05-29 16:53:24:063","SELECT PRS.DBID, DB.DBNAME, PRS.INSTANCE_NUMBER, PD.PARAMETERTYPE, PRS.PARAMETERID, PRS.PARAMETERNAME,        PRS.RULENO, PRS.RULENAME, RS.RULETEXT, RS.N_VALUE, RS.M_VALUE,        PRS.DAYS, PRS.SPECUPPERLIMIT, PRS.SPECLOWERLIMIT,        PRS.CONTROLUPPERLIMIT, PRS.CONTROLLOWERLIMIT, PRS.CHARTUSED, PRS.MAILUSED,        PRS.MMSUSED, PRS.SPECLIMITUSED, PRS.DETECTINGUSED, PRS.TARGET, PRS.STD_VALUE,        PRS.PARAVAL1, PRS.PARAVAL2, PRS.PARAVAL3, PRS.PARAVAL4, PRS.PARAVAL5 FROM       TAPCTPARAMETERDEF PD,       TAPCTPARAMETERRULESPEC PRS,      TAPCTSPCRULESPEC RS,      TAPCTDATABASE DB WHERE PD.PARAMETERID(+) = PRS.PARAMETERID AND RS.RULENO(+) = PRS.RULENO AND RS.RULENAME(+) = PRS.RULENAME AND DB.DBID(+) = PRS.DBID AND PRS.ISALIVE = 'YES' AND PRS.RULENO = 7 AND PRS.RULENAME = 'NelsonRules' "
"2023-05-29 16:53:24:119","SELECT PRS.DBID, DB.DBNAME, PRS.INSTANCE_NUMBER, PD.PARAMETERTYPE, PRS.PARAMETERID, PRS.PARAMETERNAME,        PRS.RULENO, PRS.RULENAME, RS.RULETEXT, RS.N_VALUE, RS.M_VALUE,        PRS.DAYS, PRS.SPECUPPERLIMIT, PRS.SPECLOWERLIMIT,        PRS.CONTROLUPPERLIMIT, PRS.CONTROLLOWERLIMIT, PRS.CHARTUSED, PRS.MAILUSED,        PRS.MMSUSED, PRS.SPECLIMITUSED, PRS.DETECTINGUSED, PRS.TARGET, PRS.STD_VALUE,        PRS.PARAVAL1, PRS.PARAVAL2, PRS.PARAVAL3, PRS.PARAVAL4, PRS.PARAVAL5 FROM       TAPCTPARAMETERDEF PD,       TAPCTPARAMETERRULESPEC PRS,      TAPCTSPCRULESPEC RS,      TAPCTDATABASE DB WHERE PD.PARAMETERID(+) = PRS.PARAMETERID AND RS.RULENO(+) = PRS.RULENO AND RS.RULENAME(+) = PRS.RULENAME AND DB.DBID(+) = PRS.DBID AND PRS.ISALIVE = 'YES' AND PRS.RULENO = 8 AND PRS.RULENAME = 'NelsonRules' "
"2023-05-29 16:53:24:170","SELECT PRS.DBID, DB.DBNAME, PRS.INSTANCE_NUMBER, PD.PARAMETERTYPE, PRS.PARAMETERID, PRS.PARAMETERNAME,        PRS.RULENO, PRS.RULENAME, RS.RULETEXT, RS.N_VALUE, RS.M_VALUE,        PRS.DAYS, PRS.SPECUPPERLIMIT, PRS.SPECLOWERLIMIT,        PRS.CONTROLUPPERLIMIT, PRS.CONTROLLOWERLIMIT, PRS.CHARTUSED, PRS.MAILUSED,        PRS.MMSUSED, PRS.SPECLIMITUSED, PRS.DETECTINGUSED, PRS.TARGET, PRS.STD_VALUE,        PRS.PARAVAL1, PRS.PARAVAL2, PRS.PARAVAL3, PRS.PARAVAL4, PRS.PARAVAL5 FROM       TAPCTPARAMETERDEF PD,       TAPCTPARAMETERRULESPEC PRS,      TAPCTSPCRULESPEC RS,      TAPCTDATABASE DB WHERE PD.PARAMETERID(+) = PRS.PARAMETERID AND RS.RULENO(+) = PRS.RULENO AND RS.RULENAME(+) = PRS.RULENAME AND DB.DBID(+) = PRS.DBID AND PRS.ISALIVE = 'YES' AND PRS.RULENO = 1 AND PRS.RULENAME = 'AverageRules' "
"2023-05-29 16:53:24:221","SELECT ROUND(AVG(MEASURE_VALUE),6) AS TARGET FROM (SELECT SNAP_ID, DBID, INSTANCE_NUMBER, STAT_ID AS PARAMETERID, STAT_NAME AS PARAMETERNAME, (VALUE - PREV_VAL) AS MEASURE_VALUE, BEGIN_INTERVAL_TIME, END_INTERVAL_TIME FROM (  SELECT LAG (VALUE) OVER (PARTITION BY T.DBID, T.INSTANCE_NUMBER, D.STAT_ID, T.STARTUP_TIME ORDER BY END_INTERVAL_TIME) PREV_VAL,         D.*, T.BEGIN_INTERVAL_TIME, T.END_INTERVAL_TIME  FROM RAW_DBA_HIST_SYSSTAT_ISFA D, RAW_DBA_HIST_SNAPSHOT_ISFA T WHERE D.SNAP_ID = T.SNAP_ID AND D.DBID = T.DBID AND D.INSTANCE_NUMBER = T.INSTANCE_NUMBER AND T.DBID = 1643782569 AND T.INSTANCE_NUMBER = 1 AND T.END_INTERVAL_TIME >= TO_DATE('20230517000000', 'YYYYMMDDHH24MISS') AND T.END_INTERVAL_TIME < TO_DATE('20230529000000', 'YYYYMMDDHH24MISS') AND D.STAT_ID = 24469293 )  WHERE PREV_VAL IS NOT NULL ) "
"2023-05-29 16:55:52:217","INSERT INTO ISIA.TAPCTOUTOFCONTROLDATASUM ( SNAP_ID, DBID, INSTANCE_NUMBER, PARAMETERID, MEASURE_VAL, STARTTIMEKEY, ENDTIMEKEY, RULENAME, RULENO, MEASURE_TIMEKEY, TARGET, STD_VALUE, PARAVAL1, PARAVAL2, PARAVAL3, PARAVAL4, PARAVAL5, INSERTTIME, INSERTUSER, ISALIVE)  WITH RAW_TABLE AS (SELECT MAX(SNAP_ID) SNAP_ID , DBID, INSTANCE_NUMBER, PARAMETERID, PARAMETERNAME, ROUND(AVG(MEASURE_VALUE),2) AS MEASURE_VALUE, MIN(BEGIN_INTERVAL_TIME) AS BEGIN_INTERVAL_TIME, MAX(END_INTERVAL_TIME) AS END_INTERVAL_TIME FROM ( SELECT SNAP_ID, DBID, INSTANCE_NUMBER, STAT_ID AS PARAMETERID, STAT_NAME AS PARAMETERNAME, (VALUE - PREV_VAL) AS MEASURE_VALUE, BEGIN_INTERVAL_TIME, END_INTERVAL_TIME FROM (  SELECT LAG (VALUE) OVER (PARTITION BY T.DBID, T.INSTANCE_NUMBER, D.STAT_ID, T.STARTUP_TIME ORDER BY END_INTERVAL_TIME) PREV_VAL,         D.*, T.BEGIN_INTERVAL_TIME, T.END_INTERVAL_TIME  FROM RAW_DBA_HIST_SYSSTAT_ISFA D, RAW_DBA_HIST_SNAPSHOT_ISFA T WHERE D.SNAP_ID = T.SNAP_ID AND D.DBID = T.DBID AND D.INSTANCE_NUMBER = T.INSTANCE_NUMBER AND T.DBID = 1643782569 AND T.INSTANCE_NUMBER = 1 AND T.BEGIN_INTERVAL_TIME >= TO_DATE('20230529000000', 'YYYYMMDDHH24MISS') AND T.END_INTERVAL_TIME < TO_DATE('20230529160000', 'YYYYMMDDHH24MISS') AND D.STAT_ID = 24469293 )  WHERE PREV_VAL IS NOT NULL ) GROUP BY DBID, INSTANCE_NUMBER, PARAMETERID, PARAMETERNAME )  SELECT SNAP_ID, DBID, INSTANCE_NUMBER, PARAMETERID,  MEASURE_VALUE, TO_CHAR(BEGIN_INTERVAL_TIME, 'YYYYMMDDHH24MISSFF3') STARTTIMEKEY, TO_CHAR(END_INTERVAL_TIME, 'YYYYMMDDHH24MISSFF3') ENDTIMEKEY, 'AverageRules' RULENAME, '1' RULENO, '2023052916' MEASURE_TIMEKEY, 1 TARGET,NULL STD_VALUE, ROUND(MEASURE_VALUE/1398.27076 ,2) * 100 PARAVAL1, 1398.27076 PARAVAL2, NULL PARAVAL3, NULL PARAVAL4, NULL PARAVAL5, TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS') INSERTTIME, 'DETECTING_BATCH' INSERTUSER, 'YES' ISALIVE FROM ( SELECT ROWNUM RN, A.* FROM RAW_TABLE A WHERE (MEASURE_VALUE > (1398.27076 * (1 + (1/100)))) ORDER BY SNAP_ID ) WHERE RN >= 1 "
"2023-05-29 16:55:53:583","SELECT ROUND(AVG(MEASURE_VALUE),6) AS TARGET FROM (SELECT D.SNAP_ID, D.DBID, D.INSTANCE_NUMBER, D.METRIC_ID AS PARAMETERID, D.METRIC_NAME AS PARAMETERNAME, AVERAGE AS MEASURE_VALUE, BEGIN_INTERVAL_TIME, END_INTERVAL_TIME FROM RAW_DBA_HIST_SYSMETRIC_SUMMARY_ISFA D, RAW_DBA_HIST_SNAPSHOT_ISFA T WHERE D.SNAP_ID = T.SNAP_ID AND D.DBID = T.DBID AND D.INSTANCE_NUMBER = T.INSTANCE_NUMBER AND T.DBID = 1643782569 AND T.INSTANCE_NUMBER = 1 AND T.END_INTERVAL_TIME >= TO_DATE('20230517000000', 'YYYYMMDDHH24MISS') AND T.END_INTERVAL_TIME < TO_DATE('20230529000000', 'YYYYMMDDHH24MISS') AND D.METRIC_ID = 2050 ) "
"2023-05-29 16:59:38:702","DELETE ISIA.TAPCTOUTOFCONTROLDATASUM WHERE 1=1 AND RULENAME='AverageRules' AND MEASURE_TIMEKEY LIKE '2023052916%' "
"2023-05-29 16:59:38:750","SELECT RULENO, RULENAME, RULETEXT FROM       TAPCTSPCRULESPEC WHERE 1=1 AND ISALIVE = 'YES' "
"2023-05-29 16:59:38:760","SELECT PRS.DBID, DB.DBNAME, PRS.INSTANCE_NUMBER, PD.PARAMETERTYPE, PRS.PARAMETERID, PRS.PARAMETERNAME,        PRS.RULENO, PRS.RULENAME, RS.RULETEXT, RS.N_VALUE, RS.M_VALUE,        PRS.DAYS, PRS.SPECUPPERLIMIT, PRS.SPECLOWERLIMIT,        PRS.CONTROLUPPERLIMIT, PRS.CONTROLLOWERLIMIT, PRS.CHARTUSED, PRS.MAILUSED,        PRS.MMSUSED, PRS.SPECLIMITUSED, PRS.DETECTINGUSED, PRS.TARGET, PRS.STD_VALUE,        PRS.PARAVAL1, PRS.PARAVAL2, PRS.PARAVAL3, PRS.PARAVAL4, PRS.PARAVAL5 FROM       TAPCTPARAMETERDEF PD,       TAPCTPARAMETERRULESPEC PRS,      TAPCTSPCRULESPEC RS,      TAPCTDATABASE DB WHERE PD.PARAMETERID(+) = PRS.PARAMETERID AND RS.RULENO(+) = PRS.RULENO AND RS.RULENAME(+) = PRS.RULENAME AND DB.DBID(+) = PRS.DBID AND PRS.ISALIVE = 'YES' AND PRS.RULENO = 1 AND PRS.RULENAME = 'NelsonRules' "
"2023-05-29 16:59:38:765","SELECT PRS.DBID, DB.DBNAME, PRS.INSTANCE_NUMBER, PD.PARAMETERTYPE, PRS.PARAMETERID, PRS.PARAMETERNAME,        PRS.RULENO, PRS.RULENAME, RS.RULETEXT, RS.N_VALUE, RS.M_VALUE,        PRS.DAYS, PRS.SPECUPPERLIMIT, PRS.SPECLOWERLIMIT,        PRS.CONTROLUPPERLIMIT, PRS.CONTROLLOWERLIMIT, PRS.CHARTUSED, PRS.MAILUSED,        PRS.MMSUSED, PRS.SPECLIMITUSED, PRS.DETECTINGUSED, PRS.TARGET, PRS.STD_VALUE,        PRS.PARAVAL1, PRS.PARAVAL2, PRS.PARAVAL3, PRS.PARAVAL4, PRS.PARAVAL5 FROM       TAPCTPARAMETERDEF PD,       TAPCTPARAMETERRULESPEC PRS,      TAPCTSPCRULESPEC RS,      TAPCTDATABASE DB WHERE PD.PARAMETERID(+) = PRS.PARAMETERID AND RS.RULENO(+) = PRS.RULENO AND RS.RULENAME(+) = PRS.RULENAME AND DB.DBID(+) = PRS.DBID AND PRS.ISALIVE = 'YES' AND PRS.RULENO = 2 AND PRS.RULENAME = 'NelsonRules' "
"2023-05-29 16:59:38:772","SELECT PRS.DBID, DB.DBNAME, PRS.INSTANCE_NUMBER, PD.PARAMETERTYPE, PRS.PARAMETERID, PRS.PARAMETERNAME,        PRS.RULENO, PRS.RULENAME, RS.RULETEXT, RS.N_VALUE, RS.M_VALUE,        PRS.DAYS, PRS.SPECUPPERLIMIT, PRS.SPECLOWERLIMIT,        PRS.CONTROLUPPERLIMIT, PRS.CONTROLLOWERLIMIT, PRS.CHARTUSED, PRS.MAILUSED,        PRS.MMSUSED, PRS.SPECLIMITUSED, PRS.DETECTINGUSED, PRS.TARGET, PRS.STD_VALUE,        PRS.PARAVAL1, PRS.PARAVAL2, PRS.PARAVAL3, PRS.PARAVAL4, PRS.PARAVAL5 FROM       TAPCTPARAMETERDEF PD,       TAPCTPARAMETERRULESPEC PRS,      TAPCTSPCRULESPEC RS,      TAPCTDATABASE DB WHERE PD.PARAMETERID(+) = PRS.PARAMETERID AND RS.RULENO(+) = PRS.RULENO AND RS.RULENAME(+) = PRS.RULENAME AND DB.DBID(+) = PRS.DBID AND PRS.ISALIVE = 'YES' AND PRS.RULENO = 3 AND PRS.RULENAME = 'NelsonRules' "
"2023-05-29 16:59:38:776","SELECT PRS.DBID, DB.DBNAME, PRS.INSTANCE_NUMBER, PD.PARAMETERTYPE, PRS.PARAMETERID, PRS.PARAMETERNAME,        PRS.RULENO, PRS.RULENAME, RS.RULETEXT, RS.N_VALUE, RS.M_VALUE,        PRS.DAYS, PRS.SPECUPPERLIMIT, PRS.SPECLOWERLIMIT,        PRS.CONTROLUPPERLIMIT, PRS.CONTROLLOWERLIMIT, PRS.CHARTUSED, PRS.MAILUSED,        PRS.MMSUSED, PRS.SPECLIMITUSED, PRS.DETECTINGUSED, PRS.TARGET, PRS.STD_VALUE,        PRS.PARAVAL1, PRS.PARAVAL2, PRS.PARAVAL3, PRS.PARAVAL4, PRS.PARAVAL5 FROM       TAPCTPARAMETERDEF PD,       TAPCTPARAMETERRULESPEC PRS,      TAPCTSPCRULESPEC RS,      TAPCTDATABASE DB WHERE PD.PARAMETERID(+) = PRS.PARAMETERID AND RS.RULENO(+) = PRS.RULENO AND RS.RULENAME(+) = PRS.RULENAME AND DB.DBID(+) = PRS.DBID AND PRS.ISALIVE = 'YES' AND PRS.RULENO = 4 AND PRS.RULENAME = 'NelsonRules' "
"2023-05-29 16:59:38:780","SELECT PRS.DBID, DB.DBNAME, PRS.INSTANCE_NUMBER, PD.PARAMETERTYPE, PRS.PARAMETERID, PRS.PARAMETERNAME,        PRS.RULENO, PRS.RULENAME, RS.RULETEXT, RS.N_VALUE, RS.M_VALUE,        PRS.DAYS, PRS.SPECUPPERLIMIT, PRS.SPECLOWERLIMIT,        PRS.CONTROLUPPERLIMIT, PRS.CONTROLLOWERLIMIT, PRS.CHARTUSED, PRS.MAILUSED,        PRS.MMSUSED, PRS.SPECLIMITUSED, PRS.DETECTINGUSED, PRS.TARGET, PRS.STD_VALUE,        PRS.PARAVAL1, PRS.PARAVAL2, PRS.PARAVAL3, PRS.PARAVAL4, PRS.PARAVAL5 FROM       TAPCTPARAMETERDEF PD,       TAPCTPARAMETERRULESPEC PRS,      TAPCTSPCRULESPEC RS,      TAPCTDATABASE DB WHERE PD.PARAMETERID(+) = PRS.PARAMETERID AND RS.RULENO(+) = PRS.RULENO AND RS.RULENAME(+) = PRS.RULENAME AND DB.DBID(+) = PRS.DBID AND PRS.ISALIVE = 'YES' AND PRS.RULENO = 5 AND PRS.RULENAME = 'NelsonRules' "
"2023-05-29 16:59:38:784","SELECT PRS.DBID, DB.DBNAME, PRS.INSTANCE_NUMBER, PD.PARAMETERTYPE, PRS.PARAMETERID, PRS.PARAMETERNAME,        PRS.RULENO, PRS.RULENAME, RS.RULETEXT, RS.N_VALUE, RS.M_VALUE,        PRS.DAYS, PRS.SPECUPPERLIMIT, PRS.SPECLOWERLIMIT,        PRS.CONTROLUPPERLIMIT, PRS.CONTROLLOWERLIMIT, PRS.CHARTUSED, PRS.MAILUSED,        PRS.MMSUSED, PRS.SPECLIMITUSED, PRS.DETECTINGUSED, PRS.TARGET, PRS.STD_VALUE,        PRS.PARAVAL1, PRS.PARAVAL2, PRS.PARAVAL3, PRS.PARAVAL4, PRS.PARAVAL5 FROM       TAPCTPARAMETERDEF PD,       TAPCTPARAMETERRULESPEC PRS,      TAPCTSPCRULESPEC RS,      TAPCTDATABASE DB WHERE PD.PARAMETERID(+) = PRS.PARAMETERID AND RS.RULENO(+) = PRS.RULENO AND RS.RULENAME(+) = PRS.RULENAME AND DB.DBID(+) = PRS.DBID AND PRS.ISALIVE = 'YES' AND PRS.RULENO = 6 AND PRS.RULENAME = 'NelsonRules' "
"2023-05-29 16:59:38:788","SELECT PRS.DBID, DB.DBNAME, PRS.INSTANCE_NUMBER, PD.PARAMETERTYPE, PRS.PARAMETERID, PRS.PARAMETERNAME,        PRS.RULENO, PRS.RULENAME, RS.RULETEXT, RS.N_VALUE, RS.M_VALUE,        PRS.DAYS, PRS.SPECUPPERLIMIT, PRS.SPECLOWERLIMIT,        PRS.CONTROLUPPERLIMIT, PRS.CONTROLLOWERLIMIT, PRS.CHARTUSED, PRS.MAILUSED,        PRS.MMSUSED, PRS.SPECLIMITUSED, PRS.DETECTINGUSED, PRS.TARGET, PRS.STD_VALUE,        PRS.PARAVAL1, PRS.PARAVAL2, PRS.PARAVAL3, PRS.PARAVAL4, PRS.PARAVAL5 FROM       TAPCTPARAMETERDEF PD,       TAPCTPARAMETERRULESPEC PRS,      TAPCTSPCRULESPEC RS,      TAPCTDATABASE DB WHERE PD.PARAMETERID(+) = PRS.PARAMETERID AND RS.RULENO(+) = PRS.RULENO AND RS.RULENAME(+) = PRS.RULENAME AND DB.DBID(+) = PRS.DBID AND PRS.ISALIVE = 'YES' AND PRS.RULENO = 7 AND PRS.RULENAME = 'NelsonRules' "
"2023-05-29 16:59:38:791","SELECT PRS.DBID, DB.DBNAME, PRS.INSTANCE_NUMBER, PD.PARAMETERTYPE, PRS.PARAMETERID, PRS.PARAMETERNAME,        PRS.RULENO, PRS.RULENAME, RS.RULETEXT, RS.N_VALUE, RS.M_VALUE,        PRS.DAYS, PRS.SPECUPPERLIMIT, PRS.SPECLOWERLIMIT,        PRS.CONTROLUPPERLIMIT, PRS.CONTROLLOWERLIMIT, PRS.CHARTUSED, PRS.MAILUSED,        PRS.MMSUSED, PRS.SPECLIMITUSED, PRS.DETECTINGUSED, PRS.TARGET, PRS.STD_VALUE,        PRS.PARAVAL1, PRS.PARAVAL2, PRS.PARAVAL3, PRS.PARAVAL4, PRS.PARAVAL5 FROM       TAPCTPARAMETERDEF PD,       TAPCTPARAMETERRULESPEC PRS,      TAPCTSPCRULESPEC RS,      TAPCTDATABASE DB WHERE PD.PARAMETERID(+) = PRS.PARAMETERID AND RS.RULENO(+) = PRS.RULENO AND RS.RULENAME(+) = PRS.RULENAME AND DB.DBID(+) = PRS.DBID AND PRS.ISALIVE = 'YES' AND PRS.RULENO = 8 AND PRS.RULENAME = 'NelsonRules' "
"2023-05-29 16:59:38:795","SELECT PRS.DBID, DB.DBNAME, PRS.INSTANCE_NUMBER, PD.PARAMETERTYPE, PRS.PARAMETERID, PRS.PARAMETERNAME,        PRS.RULENO, PRS.RULENAME, RS.RULETEXT, RS.N_VALUE, RS.M_VALUE,        PRS.DAYS, PRS.SPECUPPERLIMIT, PRS.SPECLOWERLIMIT,        PRS.CONTROLUPPERLIMIT, PRS.CONTROLLOWERLIMIT, PRS.CHARTUSED, PRS.MAILUSED,        PRS.MMSUSED, PRS.SPECLIMITUSED, PRS.DETECTINGUSED, PRS.TARGET, PRS.STD_VALUE,        PRS.PARAVAL1, PRS.PARAVAL2, PRS.PARAVAL3, PRS.PARAVAL4, PRS.PARAVAL5 FROM       TAPCTPARAMETERDEF PD,       TAPCTPARAMETERRULESPEC PRS,      TAPCTSPCRULESPEC RS,      TAPCTDATABASE DB WHERE PD.PARAMETERID(+) = PRS.PARAMETERID AND RS.RULENO(+) = PRS.RULENO AND RS.RULENAME(+) = PRS.RULENAME AND DB.DBID(+) = PRS.DBID AND PRS.ISALIVE = 'YES' AND PRS.RULENO = 1 AND PRS.RULENAME = 'AverageRules' "
"2023-05-29 16:59:38:802","SELECT ROUND(AVG(MEASURE_VALUE),6) AS TARGET FROM (SELECT SNAP_ID, DBID, INSTANCE_NUMBER, STAT_ID AS PARAMETERID, STAT_NAME AS PARAMETERNAME, (VALUE - PREV_VAL) AS MEASURE_VALUE, BEGIN_INTERVAL_TIME, END_INTERVAL_TIME FROM (  SELECT LAG (VALUE) OVER (PARTITION BY T.DBID, T.INSTANCE_NUMBER, D.STAT_ID, T.STARTUP_TIME ORDER BY END_INTERVAL_TIME) PREV_VAL,         D.*, T.BEGIN_INTERVAL_TIME, T.END_INTERVAL_TIME  FROM RAW_DBA_HIST_SYSSTAT_ISFA D, RAW_DBA_HIST_SNAPSHOT_ISFA T WHERE D.SNAP_ID = T.SNAP_ID AND D.DBID = T.DBID AND D.INSTANCE_NUMBER = T.INSTANCE_NUMBER AND T.DBID = 1643782569 AND T.INSTANCE_NUMBER = 1 AND T.END_INTERVAL_TIME >= TO_DATE('20230517000000', 'YYYYMMDDHH24MISS') AND T.END_INTERVAL_TIME < TO_DATE('20230529000000', 'YYYYMMDDHH24MISS') AND D.STAT_ID = 24469293 )  WHERE PREV_VAL IS NOT NULL ) "
"2023-05-29 17:00:13:841","INSERT INTO ISIA.TAPCTOUTOFCONTROLDATASUM ( SNAP_ID, DBID, INSTANCE_NUMBER, PARAMETERID, MEASURE_VAL, STARTTIMEKEY, ENDTIMEKEY, RULENAME, RULENO, MEASURE_TIMEKEY, TARGET, STD_VALUE, PARAVAL1, PARAVAL2, PARAVAL3, PARAVAL4, PARAVAL5, INSERTTIME, INSERTUSER, ISALIVE)  WITH RAW_TABLE AS (SELECT MAX(SNAP_ID) SNAP_ID , DBID, INSTANCE_NUMBER, PARAMETERID, PARAMETERNAME, ROUND(AVG(MEASURE_VALUE),2) AS MEASURE_VALUE, MIN(BEGIN_INTERVAL_TIME) AS BEGIN_INTERVAL_TIME, MAX(END_INTERVAL_TIME) AS END_INTERVAL_TIME FROM ( SELECT SNAP_ID, DBID, INSTANCE_NUMBER, STAT_ID AS PARAMETERID, STAT_NAME AS PARAMETERNAME, (VALUE - PREV_VAL) AS MEASURE_VALUE, BEGIN_INTERVAL_TIME, END_INTERVAL_TIME FROM (  SELECT LAG (VALUE) OVER (PARTITION BY T.DBID, T.INSTANCE_NUMBER, D.STAT_ID, T.STARTUP_TIME ORDER BY END_INTERVAL_TIME) PREV_VAL,         D.*, T.BEGIN_INTERVAL_TIME, T.END_INTERVAL_TIME  FROM RAW_DBA_HIST_SYSSTAT_ISFA D, RAW_DBA_HIST_SNAPSHOT_ISFA T WHERE D.SNAP_ID = T.SNAP_ID AND D.DBID = T.DBID AND D.INSTANCE_NUMBER = T.INSTANCE_NUMBER AND T.DBID = 1643782569 AND T.INSTANCE_NUMBER = 1 AND T.BEGIN_INTERVAL_TIME >= TO_DATE('20230529000000', 'YYYYMMDDHH24MISS') AND T.END_INTERVAL_TIME < TO_DATE('20230529160000', 'YYYYMMDDHH24MISS') AND D.STAT_ID = 24469293 )  WHERE PREV_VAL IS NOT NULL ) GROUP BY DBID, INSTANCE_NUMBER, PARAMETERID, PARAMETERNAME )  SELECT SNAP_ID, DBID, INSTANCE_NUMBER, PARAMETERID,  MEASURE_VALUE, TO_CHAR(BEGIN_INTERVAL_TIME, 'YYYYMMDDHH24MISSFF3') STARTTIMEKEY, TO_CHAR(END_INTERVAL_TIME, 'YYYYMMDDHH24MISSFF3') ENDTIMEKEY, 'AverageRules' RULENAME, '1' RULENO, '2023052916' MEASURE_TIMEKEY, -60 TARGET,NULL STD_VALUE, ROUND(MEASURE_VALUE/1398.27076 ,2) * 100 PARAVAL1, 1398.27076 PARAVAL2, NULL PARAVAL3, NULL PARAVAL4, NULL PARAVAL5, TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS') INSERTTIME, 'DETECTING_BATCH' INSERTUSER, 'YES' ISALIVE FROM ( SELECT ROWNUM RN, A.* FROM RAW_TABLE A WHERE (MEASURE_VALUE > (1398.27076 * (1 + (-60/100)))) ORDER BY SNAP_ID ) WHERE RN >= 1 "
"2023-05-29 17:00:13:843","SELECT ROUND(AVG(MEASURE_VALUE),6) AS TARGET FROM (SELECT D.SNAP_ID, D.DBID, D.INSTANCE_NUMBER, D.METRIC_ID AS PARAMETERID, D.METRIC_NAME AS PARAMETERNAME, AVERAGE AS MEASURE_VALUE, BEGIN_INTERVAL_TIME, END_INTERVAL_TIME FROM RAW_DBA_HIST_SYSMETRIC_SUMMARY_ISFA D, RAW_DBA_HIST_SNAPSHOT_ISFA T WHERE D.SNAP_ID = T.SNAP_ID AND D.DBID = T.DBID AND D.INSTANCE_NUMBER = T.INSTANCE_NUMBER AND T.DBID = 1643782569 AND T.INSTANCE_NUMBER = 1 AND T.END_INTERVAL_TIME >= TO_DATE('20230517000000', 'YYYYMMDDHH24MISS') AND T.END_INTERVAL_TIME < TO_DATE('20230529000000', 'YYYYMMDDHH24MISS') AND D.METRIC_ID = 2050 ) "
"2023-05-29 17:00:20:617","INSERT INTO ISIA.TAPCTOUTOFCONTROLDATASUM ( SNAP_ID, DBID, INSTANCE_NUMBER, PARAMETERID, MEASURE_VAL, STARTTIMEKEY, ENDTIMEKEY, RULENAME, RULENO, MEASURE_TIMEKEY, TARGET, STD_VALUE, PARAVAL1, PARAVAL2, PARAVAL3, PARAVAL4, PARAVAL5, INSERTTIME, INSERTUSER, ISALIVE)  WITH RAW_TABLE AS (SELECT MAX(D.SNAP_ID) SNAP_ID, D.DBID, D.INSTANCE_NUMBER, D.METRIC_ID AS PARAMETERID, D.METRIC_NAME AS PARAMETERNAME, ROUND(AVG(AVERAGE),2) AS MEASURE_VALUE, MIN(BEGIN_INTERVAL_TIME) AS BEGIN_INTERVAL_TIME, MAX(END_INTERVAL_TIME) AS END_INTERVAL_TIME FROM RAW_DBA_HIST_SYSMETRIC_SUMMARY_ISFA D, RAW_DBA_HIST_SNAPSHOT_ISFA T WHERE D.SNAP_ID = T.SNAP_ID AND D.DBID = T.DBID AND D.INSTANCE_NUMBER = T.INSTANCE_NUMBER AND T.DBID = 1643782569 AND T.INSTANCE_NUMBER = 1 AND T.BEGIN_INTERVAL_TIME >= TO_DATE('20230529000000', 'YYYYMMDDHH24MISS') AND T.END_INTERVAL_TIME < TO_DATE('20230529170000', 'YYYYMMDDHH24MISS') AND D.METRIC_ID = 2050  GROUP BY D.DBID, D.INSTANCE_NUMBER, D.METRIC_ID , D.METRIC_NAME)  SELECT SNAP_ID, DBID, INSTANCE_NUMBER, PARAMETERID,  MEASURE_VALUE, TO_CHAR(BEGIN_INTERVAL_TIME, 'YYYYMMDDHH24MISSFF3') STARTTIMEKEY, TO_CHAR(END_INTERVAL_TIME, 'YYYYMMDDHH24MISSFF3') ENDTIMEKEY, 'AverageRules' RULENAME, '1' RULENO, '2023052917' MEASURE_TIMEKEY, 1 TARGET,NULL STD_VALUE, ROUND(MEASURE_VALUE/112.35778 ,2) * 100 PARAVAL1, 112.35778 PARAVAL2, NULL PARAVAL3, NULL PARAVAL4, NULL PARAVAL5, TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS') INSERTTIME, 'DETECTING_BATCH' INSERTUSER, 'YES' ISALIVE FROM ( SELECT ROWNUM RN, A.* FROM RAW_TABLE A WHERE (MEASURE_VALUE > (112.35778 * (1 + (1/100)))) ORDER BY SNAP_ID ) WHERE RN >= 1 "
"2023-05-29 17:00:20:623","SELECT  MAILADDRESS FROM TAPUTUSERS U,( SELECT USERID, USERNAME FROM TAPUTMAILGROUP G, TAPUTMAILGROUPMEMBER N WHERE G.NAME = N.GROUPNAME  AND G.REGION = N.REGION AND G.NAME in ( SELECT NAME FROM TAPCTCODES WHERE CATEGORY = 'MAIL' AND SUBCATEGORY = 'SPC_DETECT' AND ISALIVE = 'YES') )GN WHERE U.NAME = GN.USERID"
"2023-05-29 17:00:20:831","WITH YD AS ( SELECT B.* FROM TAPCTPARAMETERRULESPEC A, TAPCTOUTOFCONTROLDATASUM B WHERE B.ENDTIMEKEY >= TO_CHAR(TO_DATE( '2023052916', 'YYYYMMDDHH24') - A.DAYS, 'YYYYMMDDHH24')AND B.ENDTIMEKEY <= '2023052916' AND B.DBID = A.DBID AND B.INSTANCE_NUMBER = A.INSTANCE_NUMBER AND B.PARAMETERID = A.PARAMETERID AND B.RULENO = A.RULENO AND B.RULENAME = A.RULENAME AND A.ISALIVE = 'YES' AND A.RULENAME = 'AverageRules' ) SELECT DBID, INSTANCE_NUMBER, PARAMETERID, (SELECT PARAMETERNAME FROM TAPCTPARAMETERDEF WHERE PARAMETERID = TD.PARAMETERID) PARAMETERNAME, RULENO, (SELECT RULENAME FROM TAPCTSPCRULESPEC WHERE RULENO = TD.RULENO AND RULENAME = TD.RULENAME) RULENAME,  (SELECT RULETEXT FROM TAPCTSPCRULESPEC WHERE RULENO = TD.RULENO AND RULENAME = TD.RULENAME) RULETEXT, SNAP_ID, MEASURE_TIMEKEY,  STARTTIMEKEY, ENDTIMEKEY, MEASURE_VAL,  COMMENTS, round(PARAVAL2,2) PARAVAL2, TARGET FROM ISIA.TAPCTOUTOFCONTROLDATASUM TD WHERE MEASURE_TIMEKEY = '2023052917' AND EXISTS (SELECT 1 FROM TAPCTPARAMETERRULESPEC WHERE MAILUSED = 'YES' AND DBID = TD.DBID AND INSTANCE_NUMBER = TD.INSTANCE_NUMBER AND PARAMETERID = TD.PARAMETERID AND RULENAME = TD.RULENAME AND RULENO = TD.RULENO) AND NOT EXISTS (SELECT 1 FROM  YD WHERE 1 = 1 AND DBID = TD.DBID AND INSTANCE_NUMBER = TD.INSTANCE_NUMBER AND PARAMETERID = TD.PARAMETERID AND RULENO = TD.RULENO AND RULENAME = TD.RULENAME AND SNAP_ID = TD.SNAP_ID) ORDER BY  rulename,ruleno,dbid,instance_number,snap_id "
"2023-05-29 17:01:59:787","DELETE ISIA.TAPCTOUTOFCONTROLDATASUM WHERE 1=1 AND RULENAME='AverageRules' AND MEASURE_TIMEKEY LIKE '2023052917%' "
"2023-05-29 17:01:59:855","SELECT RULENO, RULENAME, RULETEXT FROM       TAPCTSPCRULESPEC WHERE 1=1 AND ISALIVE = 'YES' "
"2023-05-29 17:01:59:898","SELECT PRS.DBID, DB.DBNAME, PRS.INSTANCE_NUMBER, PD.PARAMETERTYPE, PRS.PARAMETERID, PRS.PARAMETERNAME,        PRS.RULENO, PRS.RULENAME, RS.RULETEXT, RS.N_VALUE, RS.M_VALUE,        PRS.DAYS, PRS.SPECUPPERLIMIT, PRS.SPECLOWERLIMIT,        PRS.CONTROLUPPERLIMIT, PRS.CONTROLLOWERLIMIT, PRS.CHARTUSED, PRS.MAILUSED,        PRS.MMSUSED, PRS.SPECLIMITUSED, PRS.DETECTINGUSED, PRS.TARGET, PRS.STD_VALUE,        PRS.PARAVAL1, PRS.PARAVAL2, PRS.PARAVAL3, PRS.PARAVAL4, PRS.PARAVAL5 FROM       TAPCTPARAMETERDEF PD,       TAPCTPARAMETERRULESPEC PRS,      TAPCTSPCRULESPEC RS,      TAPCTDATABASE DB WHERE PD.PARAMETERID(+) = PRS.PARAMETERID AND RS.RULENO(+) = PRS.RULENO AND RS.RULENAME(+) = PRS.RULENAME AND DB.DBID(+) = PRS.DBID AND PRS.ISALIVE = 'YES' AND PRS.RULENO = 1 AND PRS.RULENAME = 'NelsonRules' "
"2023-05-29 17:01:59:943","SELECT PRS.DBID, DB.DBNAME, PRS.INSTANCE_NUMBER, PD.PARAMETERTYPE, PRS.PARAMETERID, PRS.PARAMETERNAME,        PRS.RULENO, PRS.RULENAME, RS.RULETEXT, RS.N_VALUE, RS.M_VALUE,        PRS.DAYS, PRS.SPECUPPERLIMIT, PRS.SPECLOWERLIMIT,        PRS.CONTROLUPPERLIMIT, PRS.CONTROLLOWERLIMIT, PRS.CHARTUSED, PRS.MAILUSED,        PRS.MMSUSED, PRS.SPECLIMITUSED, PRS.DETECTINGUSED, PRS.TARGET, PRS.STD_VALUE,        PRS.PARAVAL1, PRS.PARAVAL2, PRS.PARAVAL3, PRS.PARAVAL4, PRS.PARAVAL5 FROM       TAPCTPARAMETERDEF PD,       TAPCTPARAMETERRULESPEC PRS,      TAPCTSPCRULESPEC RS,      TAPCTDATABASE DB WHERE PD.PARAMETERID(+) = PRS.PARAMETERID AND RS.RULENO(+) = PRS.RULENO AND RS.RULENAME(+) = PRS.RULENAME AND DB.DBID(+) = PRS.DBID AND PRS.ISALIVE = 'YES' AND PRS.RULENO = 2 AND PRS.RULENAME = 'NelsonRules' "
"2023-05-29 17:01:59:984","SELECT PRS.DBID, DB.DBNAME, PRS.INSTANCE_NUMBER, PD.PARAMETERTYPE, PRS.PARAMETERID, PRS.PARAMETERNAME,        PRS.RULENO, PRS.RULENAME, RS.RULETEXT, RS.N_VALUE, RS.M_VALUE,        PRS.DAYS, PRS.SPECUPPERLIMIT, PRS.SPECLOWERLIMIT,        PRS.CONTROLUPPERLIMIT, PRS.CONTROLLOWERLIMIT, PRS.CHARTUSED, PRS.MAILUSED,        PRS.MMSUSED, PRS.SPECLIMITUSED, PRS.DETECTINGUSED, PRS.TARGET, PRS.STD_VALUE,        PRS.PARAVAL1, PRS.PARAVAL2, PRS.PARAVAL3, PRS.PARAVAL4, PRS.PARAVAL5 FROM       TAPCTPARAMETERDEF PD,       TAPCTPARAMETERRULESPEC PRS,      TAPCTSPCRULESPEC RS,      TAPCTDATABASE DB WHERE PD.PARAMETERID(+) = PRS.PARAMETERID AND RS.RULENO(+) = PRS.RULENO AND RS.RULENAME(+) = PRS.RULENAME AND DB.DBID(+) = PRS.DBID AND PRS.ISALIVE = 'YES' AND PRS.RULENO = 3 AND PRS.RULENAME = 'NelsonRules' "
"2023-05-29 17:02:00:025","SELECT PRS.DBID, DB.DBNAME, PRS.INSTANCE_NUMBER, PD.PARAMETERTYPE, PRS.PARAMETERID, PRS.PARAMETERNAME,        PRS.RULENO, PRS.RULENAME, RS.RULETEXT, RS.N_VALUE, RS.M_VALUE,        PRS.DAYS, PRS.SPECUPPERLIMIT, PRS.SPECLOWERLIMIT,        PRS.CONTROLUPPERLIMIT, PRS.CONTROLLOWERLIMIT, PRS.CHARTUSED, PRS.MAILUSED,        PRS.MMSUSED, PRS.SPECLIMITUSED, PRS.DETECTINGUSED, PRS.TARGET, PRS.STD_VALUE,        PRS.PARAVAL1, PRS.PARAVAL2, PRS.PARAVAL3, PRS.PARAVAL4, PRS.PARAVAL5 FROM       TAPCTPARAMETERDEF PD,       TAPCTPARAMETERRULESPEC PRS,      TAPCTSPCRULESPEC RS,      TAPCTDATABASE DB WHERE PD.PARAMETERID(+) = PRS.PARAMETERID AND RS.RULENO(+) = PRS.RULENO AND RS.RULENAME(+) = PRS.RULENAME AND DB.DBID(+) = PRS.DBID AND PRS.ISALIVE = 'YES' AND PRS.RULENO = 4 AND PRS.RULENAME = 'NelsonRules' "
"2023-05-29 17:02:00:067","SELECT PRS.DBID, DB.DBNAME, PRS.INSTANCE_NUMBER, PD.PARAMETERTYPE, PRS.PARAMETERID, PRS.PARAMETERNAME,        PRS.RULENO, PRS.RULENAME, RS.RULETEXT, RS.N_VALUE, RS.M_VALUE,        PRS.DAYS, PRS.SPECUPPERLIMIT, PRS.SPECLOWERLIMIT,        PRS.CONTROLUPPERLIMIT, PRS.CONTROLLOWERLIMIT, PRS.CHARTUSED, PRS.MAILUSED,        PRS.MMSUSED, PRS.SPECLIMITUSED, PRS.DETECTINGUSED, PRS.TARGET, PRS.STD_VALUE,        PRS.PARAVAL1, PRS.PARAVAL2, PRS.PARAVAL3, PRS.PARAVAL4, PRS.PARAVAL5 FROM       TAPCTPARAMETERDEF PD,       TAPCTPARAMETERRULESPEC PRS,      TAPCTSPCRULESPEC RS,      TAPCTDATABASE DB WHERE PD.PARAMETERID(+) = PRS.PARAMETERID AND RS.RULENO(+) = PRS.RULENO AND RS.RULENAME(+) = PRS.RULENAME AND DB.DBID(+) = PRS.DBID AND PRS.ISALIVE = 'YES' AND PRS.RULENO = 5 AND PRS.RULENAME = 'NelsonRules' "
"2023-05-29 17:02:00:115","SELECT PRS.DBID, DB.DBNAME, PRS.INSTANCE_NUMBER, PD.PARAMETERTYPE, PRS.PARAMETERID, PRS.PARAMETERNAME,        PRS.RULENO, PRS.RULENAME, RS.RULETEXT, RS.N_VALUE, RS.M_VALUE,        PRS.DAYS, PRS.SPECUPPERLIMIT, PRS.SPECLOWERLIMIT,        PRS.CONTROLUPPERLIMIT, PRS.CONTROLLOWERLIMIT, PRS.CHARTUSED, PRS.MAILUSED,        PRS.MMSUSED, PRS.SPECLIMITUSED, PRS.DETECTINGUSED, PRS.TARGET, PRS.STD_VALUE,        PRS.PARAVAL1, PRS.PARAVAL2, PRS.PARAVAL3, PRS.PARAVAL4, PRS.PARAVAL5 FROM       TAPCTPARAMETERDEF PD,       TAPCTPARAMETERRULESPEC PRS,      TAPCTSPCRULESPEC RS,      TAPCTDATABASE DB WHERE PD.PARAMETERID(+) = PRS.PARAMETERID AND RS.RULENO(+) = PRS.RULENO AND RS.RULENAME(+) = PRS.RULENAME AND DB.DBID(+) = PRS.DBID AND PRS.ISALIVE = 'YES' AND PRS.RULENO = 6 AND PRS.RULENAME = 'NelsonRules' "
"2023-05-29 17:02:00:157","SELECT PRS.DBID, DB.DBNAME, PRS.INSTANCE_NUMBER, PD.PARAMETERTYPE, PRS.PARAMETERID, PRS.PARAMETERNAME,        PRS.RULENO, PRS.RULENAME, RS.RULETEXT, RS.N_VALUE, RS.M_VALUE,        PRS.DAYS, PRS.SPECUPPERLIMIT, PRS.SPECLOWERLIMIT,        PRS.CONTROLUPPERLIMIT, PRS.CONTROLLOWERLIMIT, PRS.CHARTUSED, PRS.MAILUSED,        PRS.MMSUSED, PRS.SPECLIMITUSED, PRS.DETECTINGUSED, PRS.TARGET, PRS.STD_VALUE,        PRS.PARAVAL1, PRS.PARAVAL2, PRS.PARAVAL3, PRS.PARAVAL4, PRS.PARAVAL5 FROM       TAPCTPARAMETERDEF PD,       TAPCTPARAMETERRULESPEC PRS,      TAPCTSPCRULESPEC RS,      TAPCTDATABASE DB WHERE PD.PARAMETERID(+) = PRS.PARAMETERID AND RS.RULENO(+) = PRS.RULENO AND RS.RULENAME(+) = PRS.RULENAME AND DB.DBID(+) = PRS.DBID AND PRS.ISALIVE = 'YES' AND PRS.RULENO = 7 AND PRS.RULENAME = 'NelsonRules' "
"2023-05-29 17:02:00:198","SELECT PRS.DBID, DB.DBNAME, PRS.INSTANCE_NUMBER, PD.PARAMETERTYPE, PRS.PARAMETERID, PRS.PARAMETERNAME,        PRS.RULENO, PRS.RULENAME, RS.RULETEXT, RS.N_VALUE, RS.M_VALUE,        PRS.DAYS, PRS.SPECUPPERLIMIT, PRS.SPECLOWERLIMIT,        PRS.CONTROLUPPERLIMIT, PRS.CONTROLLOWERLIMIT, PRS.CHARTUSED, PRS.MAILUSED,        PRS.MMSUSED, PRS.SPECLIMITUSED, PRS.DETECTINGUSED, PRS.TARGET, PRS.STD_VALUE,        PRS.PARAVAL1, PRS.PARAVAL2, PRS.PARAVAL3, PRS.PARAVAL4, PRS.PARAVAL5 FROM       TAPCTPARAMETERDEF PD,       TAPCTPARAMETERRULESPEC PRS,      TAPCTSPCRULESPEC RS,      TAPCTDATABASE DB WHERE PD.PARAMETERID(+) = PRS.PARAMETERID AND RS.RULENO(+) = PRS.RULENO AND RS.RULENAME(+) = PRS.RULENAME AND DB.DBID(+) = PRS.DBID AND PRS.ISALIVE = 'YES' AND PRS.RULENO = 8 AND PRS.RULENAME = 'NelsonRules' "
"2023-05-29 17:02:00:239","SELECT PRS.DBID, DB.DBNAME, PRS.INSTANCE_NUMBER, PD.PARAMETERTYPE, PRS.PARAMETERID, PRS.PARAMETERNAME,        PRS.RULENO, PRS.RULENAME, RS.RULETEXT, RS.N_VALUE, RS.M_VALUE,        PRS.DAYS, PRS.SPECUPPERLIMIT, PRS.SPECLOWERLIMIT,        PRS.CONTROLUPPERLIMIT, PRS.CONTROLLOWERLIMIT, PRS.CHARTUSED, PRS.MAILUSED,        PRS.MMSUSED, PRS.SPECLIMITUSED, PRS.DETECTINGUSED, PRS.TARGET, PRS.STD_VALUE,        PRS.PARAVAL1, PRS.PARAVAL2, PRS.PARAVAL3, PRS.PARAVAL4, PRS.PARAVAL5 FROM       TAPCTPARAMETERDEF PD,       TAPCTPARAMETERRULESPEC PRS,      TAPCTSPCRULESPEC RS,      TAPCTDATABASE DB WHERE PD.PARAMETERID(+) = PRS.PARAMETERID AND RS.RULENO(+) = PRS.RULENO AND RS.RULENAME(+) = PRS.RULENAME AND DB.DBID(+) = PRS.DBID AND PRS.ISALIVE = 'YES' AND PRS.RULENO = 1 AND PRS.RULENAME = 'AverageRules' "
"2023-05-29 17:02:00:283","SELECT ROUND(AVG(MEASURE_VALUE),6) AS TARGET FROM (SELECT SNAP_ID, DBID, INSTANCE_NUMBER, STAT_ID AS PARAMETERID, STAT_NAME AS PARAMETERNAME, (VALUE - PREV_VAL) AS MEASURE_VALUE, BEGIN_INTERVAL_TIME, END_INTERVAL_TIME FROM (  SELECT LAG (VALUE) OVER (PARTITION BY T.DBID, T.INSTANCE_NUMBER, D.STAT_ID, T.STARTUP_TIME ORDER BY END_INTERVAL_TIME) PREV_VAL,         D.*, T.BEGIN_INTERVAL_TIME, T.END_INTERVAL_TIME  FROM RAW_DBA_HIST_SYSSTAT_ISFA D, RAW_DBA_HIST_SNAPSHOT_ISFA T WHERE D.SNAP_ID = T.SNAP_ID AND D.DBID = T.DBID AND D.INSTANCE_NUMBER = T.INSTANCE_NUMBER AND T.DBID = 1643782569 AND T.INSTANCE_NUMBER = 1 AND T.END_INTERVAL_TIME >= TO_DATE('20230517000000', 'YYYYMMDDHH24MISS') AND T.END_INTERVAL_TIME < TO_DATE('20230529000000', 'YYYYMMDDHH24MISS') AND D.STAT_ID = 24469293 )  WHERE PREV_VAL IS NOT NULL ) "
"2023-05-29 17:02:47:884","INSERT INTO ISIA.TAPCTOUTOFCONTROLDATASUM ( SNAP_ID, DBID, INSTANCE_NUMBER, PARAMETERID, MEASURE_VAL, STARTTIMEKEY, ENDTIMEKEY, RULENAME, RULENO, MEASURE_TIMEKEY, TARGET, STD_VALUE, PARAVAL1, PARAVAL2, PARAVAL3, PARAVAL4, PARAVAL5, INSERTTIME, INSERTUSER, ISALIVE)  WITH RAW_TABLE AS (SELECT MAX(SNAP_ID) SNAP_ID , DBID, INSTANCE_NUMBER, PARAMETERID, PARAMETERNAME, ROUND(AVG(MEASURE_VALUE),2) AS MEASURE_VALUE, MIN(BEGIN_INTERVAL_TIME) AS BEGIN_INTERVAL_TIME, MAX(END_INTERVAL_TIME) AS END_INTERVAL_TIME FROM ( SELECT SNAP_ID, DBID, INSTANCE_NUMBER, STAT_ID AS PARAMETERID, STAT_NAME AS PARAMETERNAME, (VALUE - PREV_VAL) AS MEASURE_VALUE, BEGIN_INTERVAL_TIME, END_INTERVAL_TIME FROM (  SELECT LAG (VALUE) OVER (PARTITION BY T.DBID, T.INSTANCE_NUMBER, D.STAT_ID, T.STARTUP_TIME ORDER BY END_INTERVAL_TIME) PREV_VAL,         D.*, T.BEGIN_INTERVAL_TIME, T.END_INTERVAL_TIME  FROM RAW_DBA_HIST_SYSSTAT_ISFA D, RAW_DBA_HIST_SNAPSHOT_ISFA T WHERE D.SNAP_ID = T.SNAP_ID AND D.DBID = T.DBID AND D.INSTANCE_NUMBER = T.INSTANCE_NUMBER AND T.DBID = 1643782569 AND T.INSTANCE_NUMBER = 1 AND T.BEGIN_INTERVAL_TIME >= TO_DATE('20230529000000', 'YYYYMMDDHH24MISS') AND T.END_INTERVAL_TIME < TO_DATE('20230529170000', 'YYYYMMDDHH24MISS') AND D.STAT_ID = 24469293 )  WHERE PREV_VAL IS NOT NULL ) GROUP BY DBID, INSTANCE_NUMBER, PARAMETERID, PARAMETERNAME )  SELECT SNAP_ID, DBID, INSTANCE_NUMBER, PARAMETERID,  MEASURE_VALUE, TO_CHAR(BEGIN_INTERVAL_TIME, 'YYYYMMDDHH24MISSFF3') STARTTIMEKEY, TO_CHAR(END_INTERVAL_TIME, 'YYYYMMDDHH24MISSFF3') ENDTIMEKEY, 'AverageRules' RULENAME, '1' RULENO, '2023052917' MEASURE_TIMEKEY, -60 TARGET,NULL STD_VALUE, ROUND(MEASURE_VALUE/1398.27076 ,2) * 100 PARAVAL1, 1398.27076 PARAVAL2, NULL PARAVAL3, NULL PARAVAL4, NULL PARAVAL5, TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS') INSERTTIME, 'DETECTING_BATCH' INSERTUSER, 'YES' ISALIVE FROM ( SELECT ROWNUM RN, A.* FROM RAW_TABLE A WHERE (MEASURE_VALUE > (1398.27076 * (1 + (-60/100)))) ORDER BY SNAP_ID ) WHERE RN >= 1 "
"2023-05-29 17:02:56:961","SELECT ROUND(AVG(MEASURE_VALUE),6) AS TARGET FROM (SELECT D.SNAP_ID, D.DBID, D.INSTANCE_NUMBER, D.METRIC_ID AS PARAMETERID, D.METRIC_NAME AS PARAMETERNAME, AVERAGE AS MEASURE_VALUE, BEGIN_INTERVAL_TIME, END_INTERVAL_TIME FROM RAW_DBA_HIST_SYSMETRIC_SUMMARY_ISFA D, RAW_DBA_HIST_SNAPSHOT_ISFA T WHERE D.SNAP_ID = T.SNAP_ID AND D.DBID = T.DBID AND D.INSTANCE_NUMBER = T.INSTANCE_NUMBER AND T.DBID = 1643782569 AND T.INSTANCE_NUMBER = 1 AND T.END_INTERVAL_TIME >= TO_DATE('20230517000000', 'YYYYMMDDHH24MISS') AND T.END_INTERVAL_TIME < TO_DATE('20230529000000', 'YYYYMMDDHH24MISS') AND D.METRIC_ID = 2050 ) "
"2023-05-29 17:03:21:327","INSERT INTO ISIA.TAPCTOUTOFCONTROLDATASUM ( SNAP_ID, DBID, INSTANCE_NUMBER, PARAMETERID, MEASURE_VAL, STARTTIMEKEY, ENDTIMEKEY, RULENAME, RULENO, MEASURE_TIMEKEY, TARGET, STD_VALUE, PARAVAL1, PARAVAL2, PARAVAL3, PARAVAL4, PARAVAL5, INSERTTIME, INSERTUSER, ISALIVE)  WITH RAW_TABLE AS (SELECT MAX(D.SNAP_ID) SNAP_ID, D.DBID, D.INSTANCE_NUMBER, D.METRIC_ID AS PARAMETERID, D.METRIC_NAME AS PARAMETERNAME, ROUND(AVG(AVERAGE),2) AS MEASURE_VALUE, MIN(BEGIN_INTERVAL_TIME) AS BEGIN_INTERVAL_TIME, MAX(END_INTERVAL_TIME) AS END_INTERVAL_TIME FROM RAW_DBA_HIST_SYSMETRIC_SUMMARY_ISFA D, RAW_DBA_HIST_SNAPSHOT_ISFA T WHERE D.SNAP_ID = T.SNAP_ID AND D.DBID = T.DBID AND D.INSTANCE_NUMBER = T.INSTANCE_NUMBER AND T.DBID = 1643782569 AND T.INSTANCE_NUMBER = 1 AND T.BEGIN_INTERVAL_TIME >= TO_DATE('20230529000000', 'YYYYMMDDHH24MISS') AND T.END_INTERVAL_TIME < TO_DATE('20230529170000', 'YYYYMMDDHH24MISS') AND D.METRIC_ID = 2050  GROUP BY D.DBID, D.INSTANCE_NUMBER, D.METRIC_ID , D.METRIC_NAME)  SELECT SNAP_ID, DBID, INSTANCE_NUMBER, PARAMETERID,  MEASURE_VALUE, TO_CHAR(BEGIN_INTERVAL_TIME, 'YYYYMMDDHH24MISSFF3') STARTTIMEKEY, TO_CHAR(END_INTERVAL_TIME, 'YYYYMMDDHH24MISSFF3') ENDTIMEKEY, 'AverageRules' RULENAME, '1' RULENO, '2023052917' MEASURE_TIMEKEY, -60 TARGET,NULL STD_VALUE, ROUND(MEASURE_VALUE/112.35778 ,2) * 100 PARAVAL1, 112.35778 PARAVAL2, NULL PARAVAL3, NULL PARAVAL4, NULL PARAVAL5, TO_CHAR(SYSDATE, 'YYYYMMDDHH24MISS') INSERTTIME, 'DETECTING_BATCH' INSERTUSER, 'YES' ISALIVE FROM ( SELECT ROWNUM RN, A.* FROM RAW_TABLE A WHERE (MEASURE_VALUE > (112.35778 * (1 + (-60/100)))) ORDER BY SNAP_ID ) WHERE RN >= 1 "
"2023-05-29 17:03:21:367","SELECT  MAILADDRESS FROM TAPUTUSERS U,( SELECT USERID, USERNAME FROM TAPUTMAILGROUP G, TAPUTMAILGROUPMEMBER N WHERE G.NAME = N.GROUPNAME  AND G.REGION = N.REGION AND G.NAME in ( SELECT NAME FROM TAPCTCODES WHERE CATEGORY = 'MAIL' AND SUBCATEGORY = 'SPC_DETECT' AND ISALIVE = 'YES') )GN WHERE U.NAME = GN.USERID"
"2023-05-29 17:04:27:141","SELECT DBID, INSTANCE_NUMBER, PARAMETERID, (SELECT PARAMETERNAME FROM TAPCTPARAMETERDEF WHERE PARAMETERID = TD.PARAMETERID) PARAMETERNAME, RULENO, (SELECT RULENAME FROM TAPCTSPCRULESPEC WHERE RULENO = TD.RULENO AND RULENAME = TD.RULENAME) RULENAME,  (SELECT RULETEXT FROM TAPCTSPCRULESPEC WHERE RULENO = TD.RULENO AND RULENAME = TD.RULENAME) RULETEXT, SNAP_ID, MEASURE_TIMEKEY,  STARTTIMEKEY, ENDTIMEKEY, MEASURE_VAL,  COMMENTS FROM ISIA.TAPCTOUTOFCONTROLDATASUM TD WHERE MEASURE_TIMEKEY = '2023052917' AND RULENAME = 'AverageRules' AND EXISTS (SELECT 1 FROM TAPCTPARAMETERRULESPEC WHERE MAILUSED = 'YES' AND DBID = TD.DBID AND INSTANCE_NUMBER = TD.INSTANCE_NUMBER AND PARAMETERID = TD.PARAMETERID AND RULENAME = TD.RULENAME AND RULENO = TD.RULENO) ORDER BY rulename,ruleno,dbid,instance_number,snap_id "
"2023-05-29 17:04:57:587","WITH YD AS ( SELECT B.* FROM TAPCTPARAMETERRULESPEC A, TAPCTOUTOFCONTROLDATASUM B WHERE B.ENDTIMEKEY >= TO_CHAR(TO_DATE( '2023052916', 'YYYYMMDDHH24') - A.DAYS, 'YYYYMMDDHH24')AND B.ENDTIMEKEY <= '2023052916' AND B.DBID = A.DBID AND B.INSTANCE_NUMBER = A.INSTANCE_NUMBER AND B.PARAMETERID = A.PARAMETERID AND B.RULENO = A.RULENO AND B.RULENAME = A.RULENAME AND A.ISALIVE = 'YES' AND A.RULENAME = 'AverageRules' ) SELECT DBID, INSTANCE_NUMBER, PARAMETERID, (SELECT PARAMETERNAME FROM TAPCTPARAMETERDEF WHERE PARAMETERID = TD.PARAMETERID) PARAMETERNAME, RULENO, (SELECT RULENAME FROM TAPCTSPCRULESPEC WHERE RULENO = TD.RULENO AND RULENAME = TD.RULENAME) RULENAME,  (SELECT RULETEXT FROM TAPCTSPCRULESPEC WHERE RULENO = TD.RULENO AND RULENAME = TD.RULENAME) RULETEXT, SNAP_ID, MEASURE_TIMEKEY,  STARTTIMEKEY, ENDTIMEKEY, MEASURE_VAL,  COMMENTS, round(PARAVAL2,2) PARAVAL2, TARGET FROM ISIA.TAPCTOUTOFCONTROLDATASUM TD WHERE MEASURE_TIMEKEY = '2023052917' AND EXISTS (SELECT 1 FROM TAPCTPARAMETERRULESPEC WHERE MAILUSED = 'YES' AND DBID = TD.DBID AND INSTANCE_NUMBER = TD.INSTANCE_NUMBER AND PARAMETERID = TD.PARAMETERID AND RULENAME = TD.RULENAME AND RULENO = TD.RULENO) AND NOT EXISTS (SELECT 1 FROM  YD WHERE 1 = 1 AND DBID = TD.DBID AND INSTANCE_NUMBER = TD.INSTANCE_NUMBER AND PARAMETERID = TD.PARAMETERID AND RULENO = TD.RULENO AND RULENAME = TD.RULENAME AND SNAP_ID = TD.SNAP_ID) ORDER BY  rulename,ruleno,dbid,instance_number,snap_id "
